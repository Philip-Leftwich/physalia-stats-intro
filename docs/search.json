[{"path":"index.html","id":"overview","chapter":"Overview","heading":"Overview","text":"end book, able :Import data RManipulate wrangle data appropriate format analysisCalculate summaries descriptive statisticsProduce informative data visualisationsProduce reports using R & MarkdownUse GitHub develop version control data reproducibility skillsUse General Generalized Linear Models produce mean estimates, uncertainty intervals statistical tests.","code":""},{"path":"index.html","id":"how-to-use-this-book","chapter":"Overview","heading":"0.1 How to use this book","text":"many chapters, provide code need use. can copy paste book, however, strongly encourage type code . seem much slower make errors, learn much quickly way.Additionally, also provide solutions many activities. -one going check whether tried figure rather going straight solution remember : copy paste without thinking, learn nothing.Finally, occasion make updates book fixing typos including additional detail activities book considered living document. Please tell find mistakes.","code":""},{"path":"index.html","id":"course-structure","chapter":"Overview","heading":"0.2 Course Structure","text":":one lecture per weekone workshop per weekThese timetabled -person sessions, check (Timetabler)[https://timetabler.uea.ac.uk/] -date information scheduling. However, lessons can accessed remotely Collaborate, everything need complete workshops available site.feel unwell, attend session -person need self-isolate don’t worry can access everything, follow along real time, work pace.Questions/issues/errors can posted (Yammer)[https://www.yammer.com/uea.ac.uk/] page.","code":""},{"path":"index.html","id":"workshops","chapter":"Overview","heading":"0.2.1 Workshops","text":"workshops best way learn, teach practical skills need become R wizard.\nFigure 0.1: courtesy Allison Horst\n","code":""},{"path":"index.html","id":"lectures","chapter":"Overview","heading":"0.2.2 Lectures","text":"Lectures recorded, Q&interactions best achieved can attend -person. worries concerns ability attend -person teaching sessions please let know.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"introduction-to-r-and-rstudio","chapter":"1 Introduction to R and RStudio","heading":"1 Introduction to R and RStudio","text":"R name programming language learn course.R name programming language learn course.RStudio convenient interface using throughout course order learn organise data, produce accurate data analyses & data visualisations.RStudio convenient interface using throughout course order learn organise data, produce accurate data analyses & data visualisations.R programming language write code , RStudio Integrated Development Environment (IDE) makes working R easier. Think knowing English using plain text editor like NotePad write book versus using word processor like Microsoft Word. , look good much harder without things like spell-checking formatting. similar way, can use R without R Studio recommend . key thing remember although work using RStudio course, actually using two pieces software means time--time, may separate updates.R RStudio can downloaded free onto personal computers, convenience use classroom space RStudio Cloud.RStudio Cloud cloud-based service can log remotely hosted servers host data analysis projects.advantage using RStudio Cloud extra packages functions need course already installed. can log-workspace computer long internet connection remember username password. can also \"visit\" projects help get stuck, hosted RStudio Cloud.Eventually also add extra tools like GitHub RMarkdown data reproducibility collaborative programming, collaboration version control systems using throughout course. future weeks.end module hope tools confidently analyze real data, make informative beautiful data visuals, able analyse lots different types data.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"using-rstudio-cloud","chapter":"1 Introduction to R and RStudio","heading":"1.1 Using RStudio Cloud","text":"sessions run cloud-based software. make free account, join Workspace BIO-5023Y sharing link .signed - see two spaces:workspace - personal useYour workspace - personal useBIO-5023Y - module work onlyBIO-5023Y - module work onlyMake sure working class workspace - limit hours/month workspace, assignments project work take place BIO-5023Y workspace.RStudio Cloud works exactly way RStudio, means download software. can access hosted cloud server projects browser connection (Chrome works best), computer.Watch short explainer videos get used navigating environment.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"getting-to-know-rstudio","chapter":"1 Introduction to R and RStudio","heading":"1.2 Getting to know RStudio","text":"R Studio console can try code (appearing bottom left window), script editor (top left), window showing functions objects created \"Environment\" tab (top right window figure), window shows plots, files packages, help documentation (bottom right).\nFigure 1.1: RStudio interface\nlearn use features included R Studio throughout course, however, highly recommend watching RStudio Essentials 1 R Studio team. video lasts ~30 minutes gives tour main parts R Studio.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"consoles-vs.-scripts","chapter":"1 Introduction to R and RStudio","heading":"1.2.1 Consoles vs. scripts","text":"","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"environment","chapter":"1 Introduction to R and RStudio","heading":"1.2.2 Environment","text":"","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"plots-files-packages-help","chapter":"1 Introduction to R and RStudio","heading":"1.2.3 Plots, files, packages, help","text":"","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"make-rstudio-your-own","chapter":"1 Introduction to R and RStudio","heading":"1.2.4 Make RStudio your own","text":"PERSONALISE CUSTOMISE","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"get-help","chapter":"1 Introduction to R and RStudio","heading":"1.3 Get Help!","text":"lot sources information using R . helpful places get help issue, just learn moreThe R help system - type help() put name package function querying inside bracketsThe R help system - type help() put name package function querying inside bracketsVignettes - type browseVignettes() console hit Enter, list available vignettes packages displayedVignettes - type browseVignettes() console hit Enter, list available vignettes packages displayedCheat Sheets - available RStudio.com. common packages associate cheat sheet covering basics use . Download/bookmark ones use commonly ggplot2, data transformation dplyr, Data tidying tidyr & Data import.Cheat Sheets - available RStudio.com. common packages associate cheat sheet covering basics use . Download/bookmark ones use commonly ggplot2, data transformation dplyr, Data tidying tidyr & Data import.Google - use Google constantly, continually forget even basic tasks. want remind round number, might type something like R round number - using particular package include search term wellGoogle - use Google constantly, continually forget even basic tasks. want remind round number, might type something like R round number - using particular package include search term wellAsk help - stuck, getting error message, think next, ask someone. , classmate. important show code, include error message. \"work\" helpful. \"code, data using, want X, problem get.\"Ask help - stuck, getting error message, think next, ask someone. , classmate. important show code, include error message. \"work\" helpful. \"code, data using, want X, problem get.\"\nmay daunting send code someone help.\n\nnatural common feel apprehensive, think code really bad. still feel ! learn share mistakes, eventually find funny look back early mistakes, laugh mistakes still occasionally make!\n","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"get-started","chapter":"1 Introduction to R and RStudio","heading":"1.4 Get Started","text":"Go RStudio Cloud enter Project labelled Week One - clone project provide workspace.Follow instructions get used R command line, R works language.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"your-first-r-command","chapter":"1 Introduction to R and RStudio","heading":"1.5 Your first R command","text":"RStudio pane, navigate console (bottom left) type copy appear >Hit Enter keyboard.answer get?first line shows request made R, next line R's responseYou type > symbol: just R command prompt part actual command.important understand output formatted. Obviously, correct answer sum 10 + 20 30, surprisingly R printed part response. also printed [1] part, probably make lot sense right now. going see lot. can think [1] 30 R saying \"answer 1st question asked 30\".","code":"\n10 + 20\n30"},{"path":"introduction-to-r-and-rstudio.html","id":"operators","chapter":"1 Introduction to R and RStudio","heading":"1.5.1 Operators","text":"","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"typos","chapter":"1 Introduction to R and RStudio","heading":"1.5.2 Typos","text":"\ngo talk types calculations can R, things want point . first thing , R good software, still software. pretty stupid, stupid handle typos. takes faith meant type exactly type.\nSuppose forget hit shift key trying type +, result command ended 10 = 20 rather 10 + 20. Try replicate error message:Error 10 = 20 : invalid (do_set) left-hand side assignmentWhat's happened R attempted interpret 10 = 20 command, spits error message command make sense .human looks , looks keyboard sees + = key, pretty obvious command typo. R know , gets upset.Even subtle fact typos produce errors , happen correspond \"well-formed\" R commands. instance, suppose forget hit shift key trying type 10 + 20, also managed press key next one meant . resulting typo produce command 10 - 20. Clearly, R way knowing meant add 20 10, subtract 20 10, happens time :case, R produces right answer, wrong question.","code":"\n10 = 20\n10 - 20## [1] -10"},{"path":"introduction-to-r-and-rstudio.html","id":"more-simple-arithmetic","chapter":"1 Introduction to R and RStudio","heading":"1.5.3 More simple arithmetic","text":"One best ways get know R play , pretty difficult break worry much. Type whatever want console see happens.last line console looks like thisand blinking cursor next plus sign. means R still waiting finish. \"thinks\" still typing command, tried execute yet. words, plus sign actually another command prompt. different usual one (.e., > symbol) remind R going \"add\" whatever type now typed last time. example, type 20 hit enter, finishes command:Alternatively hit escape key, R forget trying return blank line.","code":"> 10+\n+ > 10 +\n+ 20\n[1] 30"},{"path":"introduction-to-r-and-rstudio.html","id":"try-some-simple-maths","chapter":"1 Introduction to R and RStudio","heading":"1.5.4 Try some simple maths","text":"Raise number power anotherAs sure everyone probably remember moment read , act multiplying number \\(x\\) \\(n\\) times called \"raising \\(x\\) \\(n\\)-th power\". Mathematically, written \\(x^n\\). values \\(n\\) special names: particular \\(x^2\\) called \\(x\\)-squared, \\(x^3\\) called \\(x\\)-cubed. , 4th power 5 calculated like :\\[5^4 = 5 \\times 5 \\times 5 \\times 5 \\]","code":"\n1+7\n13-10\n4*6\n12/3\n5^4"},{"path":"introduction-to-r-and-rstudio.html","id":"perform-some-combos","chapter":"1 Introduction to R and RStudio","heading":"1.5.5 Perform some combos","text":"Perform mathematical combos, noting order R performs calculations standard one., first calculate things inside Brackets (), calculate Orders (exponents) ^, Division / Multiplication *, Addition + Subtraction -.Notice different outputs two commands.Similarly want raise number fraction, need surround fraction parentheses ()first one calculates 16 raised power 1, divided answer two. second one raises 16 power half. big difference output.\ncursor console, can press arrow see previous commands.\n\ncan run , edit . Later look scripts, essential way re-use, store edit commands.\n","code":"\n3^2-5/2\n(3^2-5)/2\n16^1/2\n16^(1/2)"},{"path":"introduction-to-r-and-rstudio.html","id":"true-or-false-data","chapter":"1 Introduction to R and RStudio","heading":"1.6 \"TRUE or FALSE\" data","text":"Time make sidebar onto another kind data. Many concepts programming rely idea logical value. logical value assertion whether something true false. implemented R pretty straightforward way. two logical values, namely TRUE FALSE. Despite simplicity, logical values useful things. see work.","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"assessing-mathematical-truths","chapter":"1 Introduction to R and RStudio","heading":"1.6.1 Assessing mathematical truths","text":"George Orwell's classic book 1984, one slogans used totalitarian Party \"two plus two equals five\", idea political domination human freedom becomes complete possible subvert even basic truths.R!R subverted. rather firm opinions topic true, least regards basic mathematics. ask calculate 2 + 2, always gives answer, 5:course, far R just calculations. asked explicitly assert \\(2+2 = 4\\) true statement. want R make explicit judgement, can use command like :TRUEWhat done use equality operator, ==, force R make \"true false\" judgement.\ndifferent operator assignment operator = saw previously.\n\ncommon typo people make trying write logical commands R (languages, since \"= versus ==\" distinction important programming languages) accidentally type = really mean ==.\nOkay, see R thinks Party slogan:Take Big Brother! Anyway, worth look happens try force R believe two plus two five making assignment statement like 2 + 2 = 5 2 + 2 <- 5. , happens:R like much. recognises 2 + 2 variable (\"non-language object\" part saying), let try \"reassign\" . R pretty flexible, actually let quite remarkable things redefine parts R , just basic, primitive truths refuses give . change laws addition, change definition number 2.probably best.","code":"\n2 + 2## [1] 4\n2 + 2 == 4\n2+2 == 5## [1] FALSE\n2 + 2 = 5Error in 2 + 2 = 5 : target of assignment expands to non-language object"},{"path":"introduction-to-r-and-rstudio.html","id":"storing-outputs","chapter":"1 Introduction to R and RStudio","heading":"1.7 Storing outputs","text":"simple questions like ones happy just see answer, questions often complex . need take multiple steps, benefit able store answers recall use later steps. simple can assign outputs name:literally means please assign value 1+2 name . use assignment operator <- make assignment.\nNote shortcut key <- Alt + - (Windows) Option + - (Mac)\nperform action able two thingsYou able see top right-hand pane Environment tab now object called value 3.\nFigure 1.2: object now visible withe value 3 Environment Pane\nable look typing Console pressing EnterYou able look typing Console pressing EnterNote see outcome functions type object R console hit EnterNote see outcome functions type object R console hit EnterYou can now call object time R session perform calculations .happens assign value named object already exists R environment??? exampleThe value now 10.see previous assignment lost, gone forever replaced new value.can assign lots things objects, use calculations build objects.\nRemember: now change value b, value c change.\n\nObjects totally independent made.\n\nOverwriting objects new values means old value lost.\nvalue c?[1] 15Look environment tab - see starting fill now!\nRStudio default save objects memory close session.\n\nnext time logon. might seem nice able close things pick left , actually quite dangerous. messy, can cause lots problems work scripts later, !\n\nstop RStudio saving objects default go Preferences option change \"Save workspace .RData exit\" \"Never\".\n\nInstead going learn use scripts quickly re-run analyses working .\n","code":"\na <- 1+2\na\n3\n2 * a\n6\na <- 10\na\nb <- 5\nc <- a + b\nb <- 7\nb\nc"},{"path":"introduction-to-r-and-rstudio.html","id":"choosing-names","chapter":"1 Introduction to R and RStudio","heading":"1.7.1 Choosing names","text":"Use informative variable names. general rule, using meaningful names like orange apple preferred arbitrary ones like variable1 variable2. Otherwise hard remember contents different variables actually .Use informative variable names. general rule, using meaningful names like orange apple preferred arbitrary ones like variable1 variable2. Otherwise hard remember contents different variables actually .Use short variable names. Typing pain -one likes . much prefer use name like apple name like pink_lady_apple.Use short variable names. Typing pain -one likes . much prefer use name like apple name like pink_lady_apple.Use one conventional naming styles multi-word variable names. R lets use certain things legal names. Legal names must start letter number, can followed sequence letters, numbers, ., _. R like using spaces. Upper lower case names allowed, R case sensitive Apple apple different.Use one conventional naming styles multi-word variable names. R lets use certain things legal names. Legal names must start letter number, can followed sequence letters, numbers, ., _. R like using spaces. Upper lower case names allowed, R case sensitive Apple apple different.favourite naming convention snake_case short, lower case , spaces words separated _. easy read easy remember.favourite naming convention snake_case short, lower case , spaces words separated _. easy read easy remember.\nFigure 1.3: courtesy Allison Horst\n","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"error","chapter":"1 Introduction to R and RStudio","heading":"1.8 Error","text":"Things go wrong eventually, always ...R pedantic, even smallest typo can result failure typos impossilbe avoid. make mistakes. One type mistake make error. code fails run. common causes error :typostyposmissing commasmissing commasmissing bracketsmissing bracketsThere's nothing wrong making lots errors. trick panic get frustrated, read error message script carefully start debug...... sometimes need walk away come back later!\nTry typing command help() R console, open new tab bottom right.\n\nPut function package brackets get help specific topic\n\nFigure 1.4: courtesy Allison Horst\n","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"functions","chapter":"1 Introduction to R and RStudio","heading":"1.9 Functions","text":"Functions tools R. one helps us different task.Take example function use round number certain number digits - function called roundHere's example:start command function name round. name followed parentheses (). Within place arguments function, separated comma.arguments:x = 2.4326782647 (number like round)x = 2.4326782647 (number like round)digits = 2 (number decimal places like round )digits = 2 (number decimal places like round )Arguments inputs give function. arguments form name = value name specifies argument, value providing define input. first argument x number like round, value 2.4326782647. second argument digits like number rounded specify 2. limit many arguments function .\nCopy paste following code console.\nhelp documentation round()appear bottom right help panel. usage section, see round()takes following form:arguments section, explanations arguments. xis number vector wish round values. digits number decimal places used. description can see value supplied digits default 0 whole number rounding.Read 'Details' section find happens rounding last digit 5.try example just change required argument digits\nCopy paste following code console.\nNow can change additional arguments produce different set numbers.time R still rounded number, done set number 'decimal places'.Always remember use help documentation help understand arguments function requires.","code":"\nround(x  = 2.4326782647, digits = 2)\nhelp(round)\nround(x, digits = 0)\nround(x  = 2.4326782647)## [1] 2\nround(x  = 2.4326782647, digits = 2)## [1] 2.43"},{"path":"introduction-to-r-and-rstudio.html","id":"storing-the-output-of-functions","chapter":"1 Introduction to R and RStudio","heading":"1.9.1 Storing the output of functions","text":"need answer function later calculation. answer use assignment operator <-.example assign values two R objects can call inside R function though putting numbers directly.\nCopy paste following code console.\nvalue assigned R object rounded_number ?[1] 2.433","code":"\nnumber_of_digits <- 3\n\nmy_number <- 2.4326782647\n\nrounded_number <- round(x  = my_number, \n                        digits = number_of_digits)"},{"path":"introduction-to-r-and-rstudio.html","id":"more-fun-with-functions","chapter":"1 Introduction to R and RStudio","heading":"1.9.2 More fun with functions","text":"Copy paste :Looks like even give names arguments function still work. works function round expects us give number value first, argument rounding digits second. assumes know expected ordering within function, might case functions use lot. give arguments proper names can actually introduce order want.Try :gives different answer\nRemember naming arguments overrides position defaults\nknow argument orders defaults? Well get know lot functions work practice, can also use help() .","code":"\nround(2.4326782647, 2)\nround(digits = 2, x  = 2.4326782647)\nround(2, 2.4326782647)"},{"path":"introduction-to-r-and-rstudio.html","id":"packages","chapter":"1 Introduction to R and RStudio","heading":"1.10 Packages","text":"install R access range functions including options data wrangling statistical analysis. functions included default installation typically referred Base R useful cheat sheet shows many Base R functions hereHowever, power R extendable open source - anyone can create new package extends functions R.R package container various things including functions data. make easy complicated protocols using custom-built functions. Later see can write simple functions. Packages lot like new apps extending functionality phone can .RStudio Cloud already installed several add-packages, need use simple function library() load packages workspace. complete access custom functions contain.\nCopy paste following code console.\nggplot2 - one popular packages use R. \"grammar graphics\" packages dedicated making data visualisations, contains lots dedicated functions .ggplot2 - one popular packages use R. \"grammar graphics\" packages dedicated making data visualisations, contains lots dedicated functions .palmerpenguins - good example data-heavy package, contains functions, instead datasets can use.palmerpenguins - good example data-heavy package, contains functions, instead datasets can use.\ncommon source errors call function part package forgetting load package.\n\nR says something like \"Error \"function-name\": find X\" likely function misspelled package containing function loaded.\n","code":"\nlibrary(ggplot2)\nlibrary(palmerpenguins)"},{"path":"introduction-to-r-and-rstudio.html","id":"my-first-data-visualisation","chapter":"1 Introduction to R and RStudio","heading":"1.11 My first data visualisation","text":"run first data visualisation using functions data now loaded - produces plot using functions ggplot2 package data palmerpenguins package.Data visualisation core part data science, generating insights data - spend lot time course working data visualisations.Today use simple functions produce figure. specify data source, variables used x y axis type visual object produce, colouring species.\nCopy paste following code console.\n\nmay noticed R gave warning. big scary error, R wants aware something.\n\ncase two observations missing data (either bill length bill depth), plotted.\n\ngood thing take note warnings errors - provide useful information.\ncommand can also written , longer style new line argument function. style can easier read, makes easier write comments #. Copy longer command console hit Enter.Note R ignores anything comes # line code - means can add notes work.","code":"\nggplot(data = penguins,aes(x = bill_length_mm, y = bill_depth_mm)) + geom_point(aes(colour=species)) \nggplot(data = penguins, # calls ggplot function, data is penguins\n       aes(x = bill_length_mm, # sets x axis as bill length\n           y = bill_depth_mm)) + # sets y axis value as bill depth\n    geom_point(aes(colour=species)) # plot points coloured by penguin species"},{"path":"introduction-to-r-and-rstudio.html","id":"writing-scripts","chapter":"1 Introduction to R and RStudio","heading":"1.12 Writing scripts","text":"now typing words directly Console. fine short/simple calculations - soon complex, multi-step process becomes time consuming, error-prone boring. Scripts document containing commands (order want run), repeatable, shareable, annotated records done. short incredibly useful - big step towards open reproducible research.create script go File > New File > R Script.\nFigure 1.5: RStudio interface - top left script, botto left console\nopen pane top-left RStudio tab name Untitled1.\nscript way organising R commands, sequence, produce desired output.\n\nwrite script, nothing happens tell RUN, see commands appearing console.\n\nMake sure include commands need complete analysis, correct order.\n","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"organising-scripts","chapter":"1 Introduction to R and RStudio","heading":"1.12.1 Organising scripts","text":"Scripts work best well organised - well documented. Simple tricks consistent organisation can make work easier read reproduced others.bookmark Tidyverse Style Guide, opinionated way organising scripts code consistent style, maximises readability. Later course use benchmark assessing code writing.Annotating instructions provides others insights . vital aspect robust reproducible workflow. come back script, one week, one month one year now often wonder command . , useful make notes , useful case anyone else ever read script. Make comments helpful humans read.already seen signal comment # key. Everything line # ignored R treated command. also see marked different colour script.\nPut following comment script line 1.\ncan also use # produce Headers different levels, follow commented lines - = shown figure .\n(#fig:script outline)R script document outline. Push button five horizontal lines reveal R recognises headers subheaders\n","code":"\n# I really love R"},{"path":"introduction-to-r-and-rstudio.html","id":"loading-packages","chapter":"1 Introduction to R and RStudio","heading":"1.12.2 Loading packages","text":"use functions package script must loaded call functions data contain. sensible place put library calls packages top script. now,\nAdd commandslibrary(ggplot2) library(palmerpenguins) script.\n\nThink organise script using image guide\n\nPut comment next package explaining \"Hint use help() function\".\n\nUse document outline button help organise script.\n\nR Studio interpret Unicode present images can include scripts. necessary, fun way help organise scripts.\n","code":"# I really love R\n# _______________----\n\n# 📦 PACKAGES ----\n\nlibrary(ggplot2) # create elegant data visualisations\nlibrary(palmer penguins) # Palmer Archipelago Penguin Data\n\n# ______________----"},{"path":"introduction-to-r-and-rstudio.html","id":"adding-more-code","chapter":"1 Introduction to R and RStudio","heading":"1.12.3 Adding more code","text":"\nAdd code script, underneath sections already \nsimilar code ran earlier, preceded plot_1 <-","code":"\n# ________________----\n# DATA VISUAL ----\n\nplot_1 <- ggplot(data = penguins, # calls ggplot function, data is penguins\n           aes(x = bill_length_mm, # sets x axis as bill length\n               y = bill_depth_mm)) + # sets y axis value as bill depth\n          geom_point(aes(colour=species)) # geometric to plot\n\n# ______________----"},{"path":"introduction-to-r-and-rstudio.html","id":"running-your-script","chapter":"1 Introduction to R and RStudio","heading":"1.12.4 Running your script","text":"run commands script, need get Console. select copy/paste Console. couple faster shortcuts.Hit Run button top right script pane. Pressing run line code cursor sitting .Hit Run button top right script pane. Pressing run line code cursor sitting .Pressing Ctrl+Enter thing hitting Run buttonPressing Ctrl+Enter thing hitting Run buttonIf want run whole script one go press Ctrl+either click Run press Ctrl+EnterIf want run whole script one go press Ctrl+either click Run press Ctrl+EnterTry now.notice unlike making previous data visuals, immediately see graph, assigned output functions R object, instead default action R print output. Check \"Environment\" tab - able see plot_1 .see new plot made type plot_1 R console. add underneath script run !","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"making-an-output","chapter":"1 Introduction to R and RStudio","heading":"1.12.5 Making an output","text":"next trick make script outputs file. Underneath lines code generate figure add new function ggsave(). re-run script. find function (arguments contains), type help(ggsave) console.Check Files tab RStudio Cloud, now new file workspace called \"2022_10_01_5023Y_workshop_1_penguin_scatterplot.png\".Wow mouthful! made long filename? Well contains information help know future.DateDateModule codeModule codeShort description file contentsShort description file contents\nimportant naming conventions files.\n\nEverything . file extension information informing computer process contents file. .png stands \"Portable Graphics Format”, means data uncompressed image format.\n\nEverything . humans, good idea make sure naming convention.\n\nAvoid periods, spaces slashes, instead use YYYYMMDD underscores\n\ne.g. YYYYMMDD_short_image_description.fileextension\n","code":"\n# ________________----\n# OUTPUT TO FILE ----\n\nggsave(filename = \"2022_10_01_5023Y_workshop_1_penguin_scatterplot.png\", \n       plot = plot_1, \n       dpi = 300, \n       width = 6, \n       height = 6)\n# _________________----"},{"path":"introduction-to-r-and-rstudio.html","id":"saving-your-script","chapter":"1 Introduction to R and RStudio","heading":"1.12.6 Saving your script","text":"script now contains code comments first workshop. need save .Alongside data, script precious part analysis. need save anything else, outputs etc. script can always used generate everything . Note colour script - name changes colour unsaved changes. Press Save button go File > Save . Give File sensible name like \"YYYYMMDD_5023Y_workshop_1_simple_commands\" bottom right pane Files now able see saved script, saved .R file extension indicating R Script.now safely quit R, log next time project, script waiting .","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"quitting","chapter":"1 Introduction to R and RStudio","heading":"1.13 Quitting","text":"Make sure saved changes R script - need make sure done!Make sure saved changes R script - need make sure done!want take look script let knowIf want take look script let knowIf spotted mistakes errors let knowIf spotted mistakes errors let knowClose RStudio Cloud BrowserClose RStudio Cloud BrowserComplete week's short quiz!Complete week's short quiz!","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"activity-1","chapter":"1 Introduction to R and RStudio","heading":"1.14 Activity 1","text":"","code":""},{"path":"introduction-to-r-and-rstudio.html","id":"head-to-blackboard-when-complete-and-submit-your-answers-to-the-quiz-to-get-your-first-data-science-learning-badge.","chapter":"1 Introduction to R and RStudio","heading":"1.14.1 Head to Blackboard when complete and submit your answers to the quiz to get your first Data Science Learning Badge.","text":"get correct answer, answer box turn green. Sometimes work Internet Explorer Edge sure use Chrome Firefox.Question 1. output 5^4Question 2. Put brackets correct place make equation correct 4+2*8 = 48Question 3. answer get type 2+2 = 4 R console?TRUEFALSEErrorIf wanted R make judgement must use == = otherwise get Error messageQuestion 4. symbol use want assign value output function R objectQuestion 5. value ran following commands?Question 6. variable naming conventions written correctly?snake_casecamelCaseScreaming_Snake_Casekebab-caseQuestion 7. type R console want help round() function?Question 8. statements function arguments trueArguments inputs give functionValues R arguments must always defined userNaming arguments supersedes position functionThere limit number arguments function haveQuestion 9. Evaluate statement \"R Package can contain code functions, data, .\"TRUEFALSE","code":"\na <-  12*2\n\na <- 5"},{"path":"basic-programming.html","id":"basic-programming","chapter":"2 Basic programming","heading":"2 Basic programming","text":"load packages use function library(). Typically start analysis script loading packages need.tidyverse opinionated collection R packages designed data science. packages share underlying design philosophy, grammar, data structures. means functions across tidyverse designed work together make process data science easier.","code":""},{"path":"basic-programming.html","id":"using-packages","chapter":"2 Basic programming","heading":"2.1 Using packages","text":"Run code load tidyverse package. can regardless whether using computer cloud.get looks like error message - . just R telling done. read gives full list packages made available . One look familiar last week?ggplot2tibbletidyrdplyrNow loaded tidyverse package can use functions contains remember, need run library() function every time start R.order use package, must first install . following code installs package tidyverse, package use frequently.working computer, use code install tidyverse.need install package , however, time start R need load packages want use, similar way need install app phone , need open every time want use .\nget error message says something like \"WARNING: Rtools required build R packages\" may need download install extra bit software called Rtools.\n","code":"\nlibrary(tidyverse)\ninstall.packages(\"tidyverse\")"},{"path":"basic-programming.html","id":"package-updates","chapter":"2 Basic programming","heading":"2.2 Package updates","text":"addition updates R R Studio, creators packages also sometimes update code. can add functions package, can fix errors. One thing avoid unintentionally updating installed package. run install.packages() always install latest version package overwrite older versions may installed. Sometimes problem, however, sometimes find update means code longer works package changed substantially. possible revert back older version package try avoid anyway.\navoid accidentally overwriting package later version, never include install.packages() analysis scripts case , someone else runs code mistake. Remember, server already packages need course need install packages using machine.\n","code":""},{"path":"basic-programming.html","id":"package-conflicts","chapter":"2 Basic programming","heading":"2.3 Package conflicts","text":"thousands different R packages even functions. Unfortunately, sometimes different packages function names. example, packages dplyr MASS function named select(). load packages, R produce warning telling conflict.case, R telling function select() dplyr package hidden ('masked') another function name. try use select(), R use function package loaded recently - case use function MASS.want specify package want use particular function can use code format package::function, example:","code":"\nlibrary(dplyr)\nlibrary(MASS)\ndplyr::select()\nMASS::select()"},{"path":"basic-programming.html","id":"objects","chapter":"2 Basic programming","heading":"2.4 Objects","text":"large part coding involve creating manipulating objects. Objects contain stuff, made first R objects previous chapter. values contained object can numbers, words, result operations analyses.assign content object using <-.","code":""},{"path":"basic-programming.html","id":"activity-1-create-some-objects","chapter":"2 Basic programming","heading":"2.4.1 Activity 1: Create some objects","text":"Copy paste following code console, change code uses name age run . see name, age, today, new_year, data appear environment pane.command use need help understand function rnorm()?`\nFigure 2.1: Objects environment\nNote examples, name,age, new_year always contain values emily, 35, date New Year's Day 2021, however, today draw date operating system data randomly generated set data values objects static.side note, ever teach programming statistics, use age example every time update teaching materials get reminder fragility existence advancing age. 2021 update: now given updating age, remain forever 35.Importantly, objects can involved calculations can interact . example:Finally, can store result operations new object:\nmay find helpful read <- contains, e.g., name contains text emily.\nconstantly creating objects throughout course learn behave go along, however, now enough understand way saving values, values can numbers, text, result operations, can used operations create new variables.\nmay also see objects referred 'variables'. difference two programming terms, however, used synonymously frequently.\n","code":"\nname <- \"emily\"\nage <- 16 + 19 \ntoday <- Sys.Date()\nnew_year <- as.Date(\"2022-01-01\")\ndata <- rnorm(n = 10, mean = 15, sd = 3)\nage + 10\nnew_year - today\nmean(data)## [1] 45\n## Time difference of -216 days\n## [1] 16.63193\ndecade <- age + 10"},{"path":"basic-programming.html","id":"vectors","chapter":"2 Basic programming","heading":"2.5 Vectors","text":"working R objects containing single element data, commonly work vectors. vector sequence elements, data type. logical, numerical, character etc.function c lets 'concatenate' link separate elements together single vector.","code":"\nnumeric_vector <- c(1,2,3)\n\ncharacter_vector <- c(\"fruits\", \"vegetables\", \"seeds\")\n\nlogical_vector <- c(TRUE, TRUE, FALSE)"},{"path":"basic-programming.html","id":"dataframes-and-tibbles","chapter":"2 Basic programming","heading":"2.6 Dataframes and tibbles","text":"looked R objects contain:single elements datasingle elements datamultiple elements data type - vectorsmultiple elements data type - vectorsBut often import data R put object called tibble type dataframe.\ndataframe data structure organises data table. Dataframes can mix different types data . column dataframe different vector, row different element within vectors.\nquick go making tibble scratch.\nUse str() object vector find important information, like data type vector many elements contains.\nNow put vectors together, become variables new tibble using function tibble()go messing script figure functions .","code":"\n# make some variables/ vectors\nperson <- c(\"Mark\", \"Phil\", \"Becky\", \"Tony\")\n\nhobby <- c(\"kickboxing\", \"coding\", \"dog walking\", \"car boot sales\")\n\nawesomeness <- c(1,100,1,1)\n# make a tibble\nmy_data <- tibble(person, hobby, awesomeness)\nmy_data# A tibble: 4 x 3\n  person hobby          awesomeness\n  <chr>  <chr>                <dbl>\n1 Mark   kickboxing               1\n2 Phil   coding                 100\n3 Becky  dog walking              1\n4 Tony   car boot sales           1\n# Some R functions for looking at tibbles and dataframes\n\nhead(my_data, n=2)\ntail(my_data, n=1)\nnrow(my_data)\nncol(my_data)\ncolnames(my_data)\nview(my_data)\nglimpse(my_data)\nstr(my_data)"},{"path":"basic-programming.html","id":"organising-data-in-wide-and-long-formats","chapter":"2 Basic programming","heading":"2.7 Organising data in wide and long formats","text":"two main conventions dataframes R, wide long formats.wide data format repeat values first column, data relating \"measured thing\" found different columnsA wide data format repeat values first column, data relating \"measured thing\" found different columnsA long data format different column type thing measures data. variable unique column.long data format different column type thing measures data. variable unique column.\nFigure 2.2: visual representation long wide format data shapes\nneither wide long data correct , work long data clearer many distinct types variables data tools using tidyverse designed work long data.","code":""},{"path":"basic-programming.html","id":"using-pivot-functions","chapter":"2 Basic programming","heading":"2.8 Using pivot functions","text":"functions found part tidyverse can help us reshape data.pivot_wider() - long wide formatpivot_wider() - long wide formatpivot_longer() - wide long formatpivot_longer() - wide long format\nFigure 2.3: Reshaping data pivot\nsave changes data format, must assign object, two optionsUse name original R object, overwrite original new formatUse name original R object, overwrite original new formatUse new name reformatted data R objects exist EnvironmentUse new name reformatted data R objects exist EnvironmentNeither correct aware .","code":"\n country <- c(\"x\", \"y\", \"z\")\n yr1960 <-  c(10, 20, 30)\n yr1970 <-  c(13, 23, 33)\n yr2010 <-  c(15, 25, 35)\n\ncountry_data <- tibble(country, yr1960, yr1970, yr2010)\npivot_longer(data = country_data,\n             cols = yr1960:yr2010,\n             names_to = \"year\",\n             names_prefix = \"yr\",\n             values_to = \"metric\")"},{"path":"basic-programming.html","id":"overwrite-the-original-object","chapter":"2 Basic programming","heading":"2.8.1 Overwrite the original object","text":"","code":"\ncountry_data <- pivot_longer(data = country_data,\n             cols = yr1960:yr2010,\n             names_to = \"year\",\n             names_prefix = \"yr\",\n             values_to = \"metric\")"},{"path":"basic-programming.html","id":"create-a-new-r-object","chapter":"2 Basic programming","heading":"2.8.2 Create a new r object","text":"","code":"\nlong_country_data <- pivot_longer(data = country_data,\n             cols = yr1960:yr2010,\n             names_to = \"year\",\n             names_prefix = \"yr\",\n             values_to = \"metric\")"},{"path":"basic-programming.html","id":"looking-after-the-environment","chapter":"2 Basic programming","heading":"2.9 Looking after the environment","text":"writing lot code may find environment pane (workspace) become cluttered many objects. can make difficult figure object need therefore run risk using wrong data frame. working new dataset, tried lots different code getting final version, good practice remember clear environment avoid using wrong object. can several way.remove individual objects, can type rm(object_name) console. Try now remove one objects created previous section.clear objects environment run rm(list = ls()) console.clear objects environment can also click broom icon environment pane.\nFigure 2.4: Clearing workspace\n","code":""},{"path":"basic-programming.html","id":"global-options","chapter":"2 Basic programming","heading":"2.10 Global options","text":"default, open R Studio show last working , including code objects created. might sound helpful, actually tends cause problems worth means risk accidentally using old version object. recommend changing settings time start R Studio, opens fresh copy. can clicking Tools - Global Options deselecting boxes looks like .\nFigure 2.5: Set options increase reproducibility\n\nRestore .RData workspace startup r mcq(c(\"checked\", answer = \"unchecked\"))\n\nSave workspace .RData exit r mcq(c(\"Always\", answer = \"Never\", \"Ask))\n","code":""},{"path":"basic-programming.html","id":"r-sessions","chapter":"2 Basic programming","heading":"2.11 R sessions","text":"open R start writing code, loading packages, creating objects, new session. addition clearing workspace, can sometimes useful start new session. happen automatically time start R computer, although sessions can persist cloud. find code working figure , might worth starting new session. clear environment detach loaded packages - think like restarting phone.","code":""},{"path":"basic-programming.html","id":"activity-2","chapter":"2 Basic programming","heading":"2.12 Activity 2","text":"Click 'Session - Restart R'.\nFigure 2.6: truth programming\n","code":""},{"path":"basic-programming.html","id":"how-to-cite-r-and-rstudio","chapter":"2 Basic programming","heading":"2.13 How to cite R and RStudio","text":"may way writing scientific report cite reference R, however, time comes important people built (free!) credit. provide separate citations R, RStudio, packages use.get citation version R using, simply run citation() function always provide recent citation.generate citation packages using, can also use citation() function name package wish cite.generate citation version RStudio using, can use RStudio.Version() function:Finally, example might look write-method section:Analysis conducted using R ver 4.0.0 (R Core Team, 2020), RStudio (Rstudio Team, 2020), tidyverse range packages (Wickham, 2017).noted, may , come back important give open-source community credit work.","code":"\ncitation()## \n## To cite R in publications use:\n## \n##   R Core Team (2019). R: A language and environment for statistical\n##   computing. R Foundation for Statistical Computing, Vienna, Austria.\n##   URL https://www.R-project.org/.\n## \n## A BibTeX entry for LaTeX users is\n## \n##   @Manual{,\n##     title = {R: A Language and Environment for Statistical Computing},\n##     author = {{R Core Team}},\n##     organization = {R Foundation for Statistical Computing},\n##     address = {Vienna, Austria},\n##     year = {2019},\n##     url = {https://www.R-project.org/},\n##   }\n## \n## We have invested a lot of time and effort in creating R, please cite it\n## when using it for data analysis. See also 'citation(\"pkgname\")' for\n## citing R packages.\ncitation(\"tidyverse\")## \n##   Wickham et al., (2019). Welcome to the tidyverse. Journal of Open\n##   Source Software, 4(43), 1686, https://doi.org/10.21105/joss.01686\n## \n## A BibTeX entry for LaTeX users is\n## \n##   @Article{,\n##     title = {Welcome to the {tidyverse}},\n##     author = {Hadley Wickham and Mara Averick and Jennifer Bryan and Winston Chang and Lucy D'Agostino McGowan and Romain François and Garrett Grolemund and Alex Hayes and Lionel Henry and Jim Hester and Max Kuhn and Thomas Lin Pedersen and Evan Miller and Stephan Milton Bache and Kirill Müller and Jeroen Ooms and David Robinson and Dana Paige Seidel and Vitalie Spinu and Kohske Takahashi and Davis Vaughan and Claus Wilke and Kara Woo and Hiroaki Yutani},\n##     year = {2019},\n##     journal = {Journal of Open Source Software},\n##     volume = {4},\n##     number = {43},\n##     pages = {1686},\n##     doi = {10.21105/joss.01686},\n##   }\nRStudio.Version()"},{"path":"basic-programming.html","id":"help-and-additional-resources","chapter":"2 Basic programming","heading":"2.14 Help and additional resources","text":"\nFigure 2.7: truth programming\nGetting good programming really means getting good trying stuff , searching help online, finding examples code copy. difficulty exercises contained book can ask help Teams, however, learning problem-solve effectively key skill need develop throughout course.Use help documentation. struggling understand function works, remember ?function help() command.get error message, copy paste Google - likely someone else problem.Rememver ask help course Yammer pageIn addition course materials number excellent resources learning R:\nR Cookbook\nStackOverflow\nR Data Science\nSearch use #rstats hashtag Twitter\nR CookbookStackOverflowR Data ScienceSearch use #rstats hashtag Twitter","code":""},{"path":"basic-programming.html","id":"debugging-tips","chapter":"2 Basic programming","heading":"2.15 Debugging tips","text":"large part coding trying figure code work true whether novice expert. progress course keep record mistakes make fixed . chapter provide number common mistakes look undoubtedly make (fix!) new mistakes .loaded correct packages functions trying use? One common mistake write code load package, e.g., library(tidyverse) forget run .made typo? Remember data DATA t.test t_test.package conflict? tried specifying package function package::function?definitely error? red text R means error - sometimes just giving message information.","code":""},{"path":"basic-programming.html","id":"activity-7-test-yourself","chapter":"2 Basic programming","heading":"2.16 Activity 7: Test yourself","text":"","code":""},{"path":"basic-programming.html","id":"head-to-blackboard-when-complete-and-submit-your-answers-to-the-quiz.","chapter":"2 Basic programming","heading":"2.16.1 Head to Blackboard when complete and submit your answers to the quiz.","text":"Question 1. never include code install.packages() analysis scripts? use library() insteadPackages already part Base RYou (someone else) may accidentally install package update stops code workingYou already latest version packageRemember, run install.packages() always install latest version package overwrite older versions package may installed.Question 2. following code produce?dataset 10 numbers mean 6 SD 50A dataset 6 numbers mean 50 SD 10A dataset 50 numbers mean 10 SD 6A dataset 50 numbers mean 10 SD 6The default form rnorm() rnorm(n, mean, sd). need help remembering argument function , look help documentation running ?rnormQuestion 3. two packages functions name want specify exactly package use, code use?package::functionfunction::packagelibrary(package)install.packages(package)use form package::function, example dplyr::select. Remember first load packages R warn functions name - remember look !Question 4. following likely argument? read_csv()35<-Question 5. easy way spot functions look computersbracketsnumbers.Question 6. job <- send output function /objectassignmentargument.Question 7. vector must always contain elements data type (e.g logical, character, numeric) FALSETRUE.Question 8. dataframe/tibble must always contain elements data type FALSETRUE","code":"\nrnorm(6, 50, 10)"},{"path":"loading-data.html","id":"loading-data","chapter":"3 Loading data","heading":"3 Loading data","text":"workshop work loading data. curated cleaned dataset can work generating insights data.biologist used asking questions gathering data. also important learn aspects research process. includes responsible data management (understanding data files & spreadsheet organisation, keeping data safe) data analysis.chapter look structure data files, read R. also continue develop reproducible scripts. means writing scripts well organised easy read, also making sure scripts complete capable reproducing analysis start finish.Transparency reproducibility key values scientific research, analyse data reproducible way means others can understand check work. also means important person can benefit work, ! return analysis even short break, thanking earlier self worked clear reproducible way, can pick right left .","code":""},{"path":"loading-data.html","id":"meet-the-penguins","chapter":"3 Loading data","heading":"3.1 Meet the Penguins","text":"chosen continue working dataset introduced already - Palmer Penguins dataset. Previously loaded cleaned dataset, quickly using R package. Today working realistic scenario - uploading data spreadsheet R workspace.data, taken palmerpenguins (Horst et al. (2020)) package originally published Gorman et al. (2014). course work real data shared researchers.palmer penguins data contains size measurements, clutch observations, blood isotope ratios three penguin species observed three islands Palmer Archipelago, Antarctica study period three years.data collected 2007 - 2009 Dr. Kristen Gorman Palmer Station Long Term Ecological Research Program, part US Long Term Ecological Research Network. data imported directly Environmental Data Initiative (EDI) Data Portal, available use CC0 license (“Rights Reserved”) accordance Palmer Station Data Policy. gratefully acknowledge Palmer Station LTER US LTER Network. Special thanks Marty Downs (Director, LTER Network Office) help regarding data license & use. intrepid package co-author, Dr. Gorman, action collecting penguin data:map study site","code":""},{"path":"loading-data.html","id":"activity-1-organising-our-workspace","chapter":"3 Loading data","heading":"3.2 Activity 1: Organising our workspace","text":"can begin working data, need set-.Go RStudio Cloud open week's R projectGo RStudio Cloud open week's R projectCreate following folders using + New Folder button Files tab\ndata\nfigures\nscripts\nCreate following folders using + New Folder button Files tabdatafiguresscripts\nR case-sensitive type everything exactly printed \nseparate subfolders within project helps keep things tidy, means harder lose things, lets easily tell R exactly go retrieve data.next step workflow well organised project space. RStudio Cloud lot hard work , new data project can set Project space.define project series linked questions uses one (sometimes several) datasets. example coursework assignment particular module project, eventually final year research project.Project contain several files, possibly organised sub-folders containing data, R scripts final outputs. might want keep information (wider reading) gathered relevant project.\nFigure 3.1: example typical R project set-\nWithin project notice already one file .Rproj. R project file, useful feature, interacts R tell working specific place computer (case cloud server dialed ). means R automatically treat location project file 'working directory' makes importing exporting easier1.","code":""},{"path":"loading-data.html","id":"activity-2-access-our-data","chapter":"3 Loading data","heading":"3.3 Activity 2: Access our data","text":"Now project workspace, ready import data.Use link open page browser data openUse link open page browser data openRight-click Save download csv format computer (Make note file downloaded e.g. Downloads)Right-click Save download csv format computer (Make note file downloaded e.g. Downloads)Compare data looks \"raw\" format open data ExcelCompare data looks \"raw\" format open data ExcelAt first glance data might look quite strange messy. stored CSV comma-separated values file. CSV files plain text files can store large amounts data, can readily imported spreadsheet storage database.files simplest form database, coloured cells, formulae, text formatting. row row data, value row (previously separate columns) separated comma.file format helps us maintain ethos Keep Raw Data Raw -many cases, captured collected data may unique impossible reproduce, measurements lab field observations. reason, protected possible loss. Every time change made raw data file threatens integrity information.practice, means use data file data entry storage. data manipulation, cleaning analysis happens R, using transparent reproducible scripts.\navoid saving files Excel format nasty habit formatting even losing data file gets large enough.\n\n[https://www.theguardian.com/politics/2020/oct/05/-excel-may--caused-loss--16000-covid-tests--england].\n\nneed add data csv file, can always open Excel-like program add information, remember save original csv format afterwards.\n\nFigure 3.2: Top image: Penguins data viewed Excel, Bottom image: Penguins data native csv format\nraw format, line CSV separated commas different values. open spreadsheet program like Excel automatically converts comma-separated values tables columns.\nprobably used working Excel (.xls .xlsx) file formats, widely supported, CSV files, simple text formats supported data interfaces. also proprietary (e.g. Excel format owned Microsoft), working .csv format data open accessible.\n","code":""},{"path":"loading-data.html","id":"activity-3-upload-our-data","chapter":"3 Loading data","heading":"3.4 Activity 3: Upload our data","text":"data now Downloads folder computerThe data now Downloads folder computerWe need upload data remote cloud-server (RStudio Cloud), select upload files server button Files tabWe need upload data remote cloud-server (RStudio Cloud), select upload files server button Files tabPut file data folder - make mistake select tickbox file, go cogs button choose option Move.Put file data folder - make mistake select tickbox file, go cogs button choose option Move.\nFigure 3.3: Highlighted buttons upload files, options\n","code":""},{"path":"loading-data.html","id":"activity-4-make-a-script","chapter":"3 Loading data","heading":"3.5 Activity 4: Make a script","text":"now create new R script file write instructions store comments manipulating data, developing tables figures. Use File > New Script menu item select R Script.Add following:load following add-package R script, just underneath comments. Tidyverse actually one package, bundle many different packages play well together - example includes ggplot2 used last session, call separatelySave file inside scripts folder call 01_import_penguins_data.R","code":"\n#___________________________----\n# SET UP ---\n## An analysis of the bill dimensions of male and female Adelie, Gentoo and Chinstrap penguins ----\n\n### Data first published in  Gorman, KB, TD Williams, and WR Fraser. 2014. “Ecological Sexual Dimorphism and Environmental Variability Within a Community of Antarctic Penguins (Genus Pygoscelis).” PLos One 9 (3): e90081. https://doi.org/10.1371/journal.pone.0090081. ------\n#__________________________----\n# PACKAGES ----\nlibrary(tidyverse) # tidy data packages\nlibrary(janitor) # cleans variable names\nlibrary(lubridate) # make sure dates are processed properly\n#__________________________----"},{"path":"loading-data.html","id":"document-outline","chapter":"3 Loading data","heading":"3.5.1 Document outline","text":"","code":""},{"path":"loading-data.html","id":"activity-5-read-in-data","chapter":"3 Loading data","heading":"3.6 Activity 5: Read in data","text":"Now can read data. use function read_csv() allows us read .csv files. also functions allow read .xlsx files formats, however course use .csv files.First, create object called penguins_data contains data penguins_raw.csv file.\nalso function called read.csv(). careful use function instead read_csv() different ways naming columns.\n","code":"\n# IMPORT DATA ----\npenguins <- read_csv (\"data/penguins_raw.csv\")\n\nhead(penguins) # check the data has loaded, prints first 10 rows of dataframe\n#__________________________----"},{"path":"loading-data.html","id":"filepaths","chapter":"3 Loading data","heading":"3.7 Filepaths","text":"example read_csv() function requires provide filepath (\"quotes\"), order tell R file wish read located example two components\"data/\" - specifies directory look file\"data/\" - specifies directory look file\"penguins_raw.csv\" - specifies name format file\"penguins_raw.csv\" - specifies name format file","code":""},{"path":"loading-data.html","id":"directories","chapter":"3 Loading data","heading":"3.7.1 Directories","text":"directory refers folder computer relationships folders. term “directory” considers relationship folder folders within around . Directories hierarchical means can exist within folders well folders exist within .\nidea directories files ? alone File Found\n\"parent\" directory folder contains subdirectory. example downloads folder directory, parent directory subdirectories files contained within .","code":""},{"path":"loading-data.html","id":"home-directory","chapter":"3 Loading data","heading":"3.7.2 Home directory","text":"home directory computer directory defined operating system. home directory primary directory user account computer. files default stored home directory.Windows, home directory typically C:\\Users\\-username.Windows, home directory typically C:\\Users\\-username.Mac Linux, home directory typically /home/-username.Mac Linux, home directory typically /home/-username.","code":""},{"path":"loading-data.html","id":"working-directory","chapter":"3 Loading data","heading":"3.7.3 Working directory","text":"working directory refers directory computer tool assumes starting place filepaths","code":""},{"path":"loading-data.html","id":"absolute-vs-relative-filepaths","chapter":"3 Loading data","heading":"3.7.4 Absolute vs Relative filepaths","text":"got working R?use programming language, specify filepaths order program find files read-output files.Absolute file path path contains entire path file directory starting Home directory ending file directory wish access e.g./home/-username/project/data/penguins_raw.csvThe main drawbacks using absolute file paths :share files, another user won’t directory structure , need recreate file pathsIf share files, another user won’t directory structure , need recreate file pathsif alter directory structure, ’ll need rewrite pathsif alter directory structure, ’ll need rewrite pathsan absolute file path likely longer relative path, backslashes need edited, scope error.absolute file path likely longer relative path, backslashes need edited, scope error.different computers can different path constructions, scripts use absolute filepaths reproducible.Relative filepath path relative working directory location computer.use RStudio Projects, wherever .Rproj file located set working directory. means .Rproj file located project folder relative path data :data/penguins_raw.csvThis filepath shorter means share project someone else script run without editing.\nusing RStudio Cloud, remember working Linux OS cloud server, different absolute filepath - scripts project working right now work using relative filepaths\n","code":""},{"path":"loading-data.html","id":"activity-6-test-yourself","chapter":"3 Loading data","heading":"3.8 Activity 6: Test yourself","text":"","code":""},{"path":"loading-data.html","id":"head-to-blackboard-when-complete-and-submit-your-answers-to-the-quiz.-1","chapter":"3 Loading data","heading":"3.8.1 Head to Blackboard when complete and submit your answers to the quiz.","text":"Question 1. order make R project reproducible filepath use?Absolute filepathRelative filepathQuestion 2. acceptable include raw datafile?Highlighting blocks cellsExcel formulaeA column observational notes fielda mix ddmmyy yymmdd date formatsQuestion 3. always first set functions script? ?()Question 4. reading data R useread_csv()read.csv()Question 5. format penguins data ?wide datalong dataEach column unique variable row unique observation data long (tidy) formatQuestion 6. working directory projects default set location ?data filesthe .Rproj fileyour R scriptQuestion 7. Using filepath \"data/penguins_raw.csv\" example ofan absolute filepatha relative filepathQuestion 8. operator need use wish assign output read_csv function R object (rather just print dataframe console)?","code":""},{"path":"data-wrangling-part-one.html","id":"data-wrangling-part-one","chapter":"4 Data wrangling part one","heading":"4 Data wrangling part one","text":"may surprise learn scientists actually spend far time cleaning preparing data spend actually analysing . means completing tasks cleaning bad values, changing structure dataframes, reducing data subset observations, producing data summaries.Many people seem operate assumption option data cleaning painstaking time-consuming cutting pasting data within spreadsheet program like Excel. witnessed students colleagues waste days, weeks, even months manually transforming data Excel, cutting, copying, pasting data. Fixing data hand terrible use time, error-prone reproducible. Additionally, age can easily collect massive datasets online, able organise, clean, prepare hand.short, thrive scientist learn key data wrangling skills. Although every dataset presents unique challenges, systematic principles follow make analyses easier, less error-prone, efficient, reproducible.chapter see data science skills allow efficiently get answers nearly question might want ask data. learning properly make computer hard boring work , can focus bigger issues.","code":""},{"path":"data-wrangling-part-one.html","id":"load-your-workspace","chapter":"4 Data wrangling part one","heading":"4.1 Load your workspace","text":"workspace ready work Palmer penguins data. Load workspace now.Think basic checks start work today.","code":""},{"path":"data-wrangling-part-one.html","id":"checklist","chapter":"4 Data wrangling part one","heading":"4.1.1 Checklist","text":"objects already Environment pane? , use rm(list=ls())objects already Environment pane? , use rm(list=ls())Re-run script last time line 1 last lineRe-run script last time line 1 last lineCheck warning error messagesCheck warning error messagesAdd code today's session goAdd code today's session go","code":""},{"path":"data-wrangling-part-one.html","id":"activity-1-change-column-names","chapter":"4 Data wrangling part one","heading":"4.2 Activity 1: Change column names","text":"going learn organise data using tidy format2. using tidyverse packages Wickham (2021). opinionated, highly effective method generating reproducible analyses wide-range data manipulation tools. Tidy data easy format computers read.'tidy' refers specific structure lets us manipulate visualise data ease. tidy dataset variable one column row contains one observation. cell table/spreadsheet contains values. One observation might make tidy data quite long - generates lot rows data - might remember tidy data can referred long-format data (opposed wide data).know data R, know columns names imported. still know whether values imported correctly, whether captured rows.run colnames() get identities column dataframeStudy name: identifier year sets observations madeStudy name: identifier year sets observations madeRegion: area observation recordedRegion: area observation recordedIsland: specific island observation recordedIsland: specific island observation recordedStage: Denotes reproductive stage penguinStage: Denotes reproductive stage penguinIndividual ID: unique ID individualIndividual ID: unique ID individualClutch completion: study nest observed full clutch e.g. 2 eggsClutch completion: study nest observed full clutch e.g. 2 eggsDate egg: date study nest observed 1 eggDate egg: date study nest observed 1 eggCulmen length: length dorsal ridge bird's bill (mm)Culmen length: length dorsal ridge bird's bill (mm)Culmen depth: depth dorsal ridge bird's bill (mm)Culmen depth: depth dorsal ridge bird's bill (mm)Flipper Length: length bird's flipper (mm)Flipper Length: length bird's flipper (mm)Body Mass: Bird's mass (g)Body Mass: Bird's mass (g)Sex: Denotes sex birdSex: Denotes sex birdDelta 15N : ratio stable Nitrogen isotopes 15N:14N blood sampleDelta 15N : ratio stable Nitrogen isotopes 15N:14N blood sampleDelta 13C: ratio stable Carbon isotopes 13C:12C blood sampleDelta 13C: ratio stable Carbon isotopes 13C:12C blood sample","code":"\n# CHECK DATA ----\n# check the data\ncolnames(penguins)\n#__________________________----"},{"path":"data-wrangling-part-one.html","id":"clean-column-names","chapter":"4 Data wrangling part one","heading":"4.2.1 Clean column names","text":"Often might want change names variables. might non-intuitive, long. data couple issues:names contain spacesSome names contain spacesSome names capitalised lettersSome names capitalised lettersSome names contain bracketsSome names contain bracketsThis dataframe like correct quickly. R case-sensitive also like spaces brackets variable names","code":"\n# CLEAN DATA ----\n\n# clean all variable names to snake_case using the clean_names function from the janitor package\n# note we are using assign <- to overwrite the old version of penguins with a version that has updated names\n# this changes the data in our R workspace but NOT the original csv file\n\npenguins <- janitor::clean_names(penguins) # clean the column names\n\ncolnames(penguins) # quickly check the new variable names##  [1] \"study_name\"        \"sample_number\"     \"species\"          \n##  [4] \"region\"            \"island\"            \"stage\"            \n##  [7] \"individual_id\"     \"clutch_completion\" \"date_egg\"         \n## [10] \"culmen_length_mm\"  \"culmen_depth_mm\"   \"flipper_length_mm\"\n## [13] \"body_mass_g\"       \"sex\"               \"delta_15_n_o_oo\"  \n## [16] \"delta_13_c_o_oo\"   \"comments\""},{"path":"data-wrangling-part-one.html","id":"rename-columns-manually","chapter":"4 Data wrangling part one","heading":"4.2.2 Rename columns (manually)","text":"clean_names function quickly converts variable names snake case. N C blood isotope ratio names still quite long though, clean dplyr::rename() \"new_name\" = \"old_name\".","code":"\n# shorten the variable names for N and C isotope blood samples\n\npenguins <- rename(penguins,\n         \"delta_15n\"=\"delta_15_n_o_oo\",  # use rename from the dplyr package\n         \"delta_13c\"=\"delta_13_c_o_oo\")"},{"path":"data-wrangling-part-one.html","id":"glimpse-check-data-format","chapter":"4 Data wrangling part one","heading":"4.2.3 glimpse: check data format","text":"run glimpse() get several lines output. number observations \"rows\", number variables \"columns\". Check csv file - . next lines see variable names type data.can see dataset 345 rows (including headers) 17 variables\nalso provides information type data column<chr> - means character text data<chr> - means character text data<dbl> - means numerical data<dbl> - means numerical data","code":"\nglimpse(penguins)"},{"path":"data-wrangling-part-one.html","id":"rename-text-values","chapter":"4 Data wrangling part one","heading":"4.2.4 Rename text values","text":"Sometimes may want rename values variables order make shorthand easier follow. changing values columns, column names.","code":"\n# use mutate and case_when for an if-else statement that changes the names of the values in a variable\npenguins <- penguins %>% \n  mutate(species = case_when(species == \"Adelie Penguin (Pygoscelis adeliae)\" ~ \"Adelie\",\n                             species == \"Gentoo penguin (Pygoscelis papua)\" ~ \"Gentoo\",\n                             species == \"Chinstrap penguin (Pygoscelis antarctica)\" ~ \"Chinstrap\"))"},{"path":"data-wrangling-part-one.html","id":"dplyr-verbs","chapter":"4 Data wrangling part one","heading":"4.3 dplyr verbs","text":"section introduced commonly used data wrangling functions, come dplyr package (part tidyverse). functions likely become familiar .","code":""},{"path":"data-wrangling-part-one.html","id":"select","chapter":"4 Data wrangling part one","heading":"4.3.1 Select","text":"wanted create dataset includes certain variables, can use select() function dplyr package.example might wish create simplified dataset contains species, sex, flipper_length_mm body_mass_g.Run code select columnsAlternatively tell R columns want e.g.Note select() change original penguins tibble. spits new tibble directly console.save new tibble, stored. want keep , must create new object.run new code, see anything console, see new object appear Environment pane.","code":"\n# DPLYR VERBS ----\n\nselect(.data = penguins, # the data object\n       species, sex, flipper_length_mm, body_mass_g) # the variables you want to select\nselect(.data = penguins,\n       -study_name, -sample_number)\nnew_penguins <- select(.data = penguins, \n       species, sex, flipper_length_mm, body_mass_g)"},{"path":"data-wrangling-part-one.html","id":"filter","chapter":"4 Data wrangling part one","heading":"4.3.2 Filter","text":"previously used select() select certain variables, now use filter() select certain rows observations. example Adelie penguins.can equivalence operator ==Filter quite complicate function, uses several differe operators assess way apply filter.\nTable 4.1: Boolean expressions\nwanted select Penguin species except Adelies, use 'equals'.asYou can include multiple expressions within filter() pull rows evaluate TRUE conditions.example code pull observations Adelie penguins flipper length measured greater 190mm.","code":"\nfilter(.data = new_penguins, species == \"Adelie Penguin (Pygoscelis adeliae)\")\nfilter(.data = new_penguins, species != \"Adelie Penguin (Pygoscelis adeliae)\")\nfilter(.data = new_penguins, species %in% c(\"Chinstrap penguin (Pygoscelis antarctica)\", \"Gentoo penguin (Pygoscelis papua)\"))\nfilter(.data = new_penguins, species == \"Adelie Penguin (Pygoscelis adeliae)\", flipper_length_mm > 190)"},{"path":"data-wrangling-part-one.html","id":"arrange","chapter":"4 Data wrangling part one","heading":"4.3.3 Arrange","text":"function arrange() sorts rows table according columns supplied. exampleThe data now arranged alphabetical order sex. observations female penguins listed males.can also reverse desc()can also sort one column, think code ?","code":"\narrange(.data = new_penguins, sex)\narrange(.data = new_penguins, desc(sex))\narrange(.data = new_penguins,\n        sex,\n        desc(species),\n        desc(flipper_length_mm))"},{"path":"data-wrangling-part-one.html","id":"mutate","chapter":"4 Data wrangling part one","heading":"4.3.4 Mutate","text":"Sometimes need create new variable exist dataset. example might want figure flipper length factoring body mass.create new variables use function mutate().Note , want save new column must save object. mutating new column attaching new_penguins data oject.","code":"\nnew_penguins <- mutate(.data = new_penguins,\n                       body_mass_kg = body_mass_g/1000)"},{"path":"data-wrangling-part-one.html","id":"pipes","chapter":"4 Data wrangling part one","heading":"4.4 Pipes","text":"\n%>%  tumble(out_of = \"bed\") %>%  stumble(= \"kitchen\") %>%  pour(= \"\", unit = \"cup\", = \"ambition\") %>%  yawn() %>%  stretch() %>%  try(come_to_live()) https://t.co/plnA2dZdJ4\nPipes look like : %>% Pipes allow send output one function straight another function. Specifically, send result function %>% first argument function %>%. usual, easier show, rather tell look example.reason function called pipe 'pipes' data next function. wrote code previously, first argument function dataset wanted work . use pipes automatically take data previous line code need specify .Take penguins data \nSelect species, sex flipper lenght columns \nFilter keep observations labelled sex equals male \nArrange data HIGHEST LOWEST flipper lengths.\nR version 4 onwards now \"native pipe\" |>\n\nrequire tidyverse magrittr package packages load use.\n\ncoursebook chosen continue use tidyverse pipe %>% time likely much familiar tutorials, website usages. native pipe also behaves \"slightly\" differently, cause confusion.\n\nwant read operational differences, site good job explaining\n","code":"\narrange(.data = filter(.data = select(.data = penguins, species, sex, flipper_length_mm), sex == \"MALE\"), desc(flipper_length_mm))\nobject_1 <- select(.data = penguins, species, sex, flipper_length_mm)\nobject_2 <- filter(.data = object_1, sex == \"MALE\")\narrange(object_2, desc(flipper_length_mm))\npenguins %>% \n  select(species, sex, flipper_length_mm) %>% \n  filter(sex == \"MALE\") %>% \n  arrange(desc(flipper_length_mm))"},{"path":"data-wrangling-part-one.html","id":"a-few-more-handy-functions","chapter":"4 Data wrangling part one","heading":"4.5 A few more handy functions","text":"","code":""},{"path":"data-wrangling-part-one.html","id":"check-for-duplication","chapter":"4 Data wrangling part one","heading":"4.5.1 Check for duplication","text":"easy inputting data make mistakes, copy something twice example, someone lot copy-pasting assemble spreadsheet (yikes!). can check pretty quicklyGreat!","code":"\n# check for duplicate rows in the data\npenguins %>% \n  duplicated() %>% # produces a list of TRUE/FALSE statements for duplicated or not\n  sum() # sums all the TRUE statements[1] 0"},{"path":"data-wrangling-part-one.html","id":"summarise","chapter":"4 Data wrangling part one","heading":"4.5.2 Summarise","text":"can also explore data obvious typos checking implausibly small large values, simple use summarise function.minimum weight penguins 2.7kg, max 6.3kg - outrageous. min come 27g might suspicious. use summarise calculate metrics future.\nfirst data insight, difference smallest adult penguin dataset nearly half size largest penguin.\n","code":"\n# use summarise to make calculations\npenguins %>% \n  summarise(min=min(body_mass_g, na.rm=TRUE), \n            max=max(body_mass_g, na.rm=TRUE))"},{"path":"data-wrangling-part-one.html","id":"group-by","chapter":"4 Data wrangling part one","heading":"4.5.3 Group By","text":"Many data analysis tasks can approached using “split-apply-combine” paradigm: split data groups, apply analysis group, combine results. dplyr makes easy group_by() function. summarise example able find max-min body mass values penguins dataset. wanted break grouping species penguin. group_by() comes .Now know little data, max weight Gentoo penguins much larger two species. fact, minimum weight Gentoo penguin far max weight two species.","code":"\npenguins %>% \n  group_by(species) %>%  # subsequent functions are perform \"by group\"\n  summarise(min=min(body_mass_g, na.rm=TRUE), \n            max=max(body_mass_g, na.rm=TRUE))"},{"path":"data-wrangling-part-one.html","id":"distinct","chapter":"4 Data wrangling part one","heading":"4.5.4 Distinct","text":"can also look typos asking R produce distinct values variable. useful categorical data, expect distinct categoriesHere someone mistyped e.g. 'FMALE' obvious. thing (probably changed names) species.","code":"\npenguins %>% \n  distinct(sex)"},{"path":"data-wrangling-part-one.html","id":"missing-values-na","chapter":"4 Data wrangling part one","heading":"4.5.5 Missing values: NA","text":"multiple ways check missing values dataBut tell us , fortunately function summary easily","code":"\n# Get a sum of how many observations are missing in our dataframe\npenguins %>% \n  is.na() %>% \n  sum()"},{"path":"data-wrangling-part-one.html","id":"summary","chapter":"4 Data wrangling part one","heading":"4.6 Summary","text":"provides quick breakdown max min numeric variables, well list many missing observations one. can see appear two missing observations measurements body mass, bill lengths, flipper lengths several blood measures. know sure without inspecting data , likely two birds missing multiple measurements, several measured blood drawn.leave NA's alone now, useful know many .now got clean & tidy dataset, handful first insights data.","code":"\n# produce a summary of our data\nsummary(penguins)\n#__________________________----"},{"path":"data-wrangling-part-one.html","id":"finished","chapter":"4 Data wrangling part one","heading":"4.7 Finished","text":"lot work! remember remember functions, remember chapter data wrangling future. Also bookmark RStudio Cheatsheets Page.Finally, make sure saved changes made script 💾 & make sure workspace set save objects environment sessions.want script record work progress, confused cluttered R Environment.","code":""},{"path":"data-wrangling-part-one.html","id":"activity-reorganise-this-script","chapter":"4 Data wrangling part one","heading":"4.8 Activity: Reorganise this script","text":"Using link take text copy/paste new R script save YYYY_MM_DD_workshop_4_jumbled_script.RAll correct lines code, comments document markers present, correct order. Can unscramble produce sensible output clear document outline?","code":""},{"path":"data-wrangling-part-one.html","id":"submit-when-you-are-finished","chapter":"4 Data wrangling part one","heading":"4.8.1 Submit when you are finished","text":"want check answers (just completely stuck) click submitting","code":""},{"path":"data-wrangling-part-two.html","id":"data-wrangling-part-two","chapter":"5 Data wrangling part two","heading":"5 Data wrangling part two","text":"","code":""},{"path":"data-wrangling-part-two.html","id":"load-your-workspace-1","chapter":"5 Data wrangling part two","heading":"5.1 Load your workspace","text":"workspace ready work Palmer penguins data. Load workspace now.Think basic checks start work today.","code":""},{"path":"data-wrangling-part-two.html","id":"checklist-1","chapter":"5 Data wrangling part two","heading":"5.1.1 Checklist","text":"objects already Environment pane? , use rm(list=ls())objects already Environment pane? , use rm(list=ls())Re-run script last time line 1 last lineRe-run script last time line 1 last lineCheck warning error messagesCheck warning error messagesAdd code today's session goAdd code today's session go","code":""},{"path":"data-wrangling-part-two.html","id":"more-summary-tools","chapter":"5 Data wrangling part two","heading":"5.2 More summary tools","text":"often want make calculations aobut groups observations, mean median. often interested comparing responses among groups. example, previously found number distinct penguins entire datasetNow consider groups subsets observations, find number penguins species sex.progress, learning use data wrangling tools. also gaining insights data.Question many female Adelie penguins dataset?Question many Gentoo penguins sex recorded?using summarise group_by lot! powerful functions:group_by adds grouping information data object, subsequent calculations happen group-specific basis.group_by adds grouping information data object, subsequent calculations happen group-specific basis.summarise data aggregation function thart calculates summaries one variables, separately groups defined group_bysummarise data aggregation function thart calculates summaries one variables, separately groups defined group_by","code":"\npenguins %>% \n  summarise(n_distinct(individual_id))\npenguins %>% \n  group_by(species, sex) %>% \n  summarise(n_distinct(individual_id))"},{"path":"data-wrangling-part-two.html","id":"using-summarise","chapter":"5 Data wrangling part two","heading":"5.2.1 Using summarise()","text":"summarise() whole list useful functions producing descriptive statisticsmin max calculate minimum maximum values numeric vectormin max calculate minimum maximum values numeric vectormean median calculate averages numeric vectormean median calculate averages numeric vectorsd var calculate standard deviation variance numeric vectorsd var calculate standard deviation variance numeric vectorUsing summarise can calculate mean flipper bill lengths penguins:\nNote - provide informative names left side =\n\nperforming calculations summarise important set na.rm = TRUE, removes missing values calculation\n\nhappens try produce calculations include NA? e.g NA + 4 NA * 5\ncan use several functions summarise. means can string several calculations together single step, generate insights data.190 unique IDs 344 total observations appear roughly twice many observations unique individuals. sex ratio roughly even (48% female) average flipper length 201 mm.","code":"\npenguins %>% \n  summarise(\n    mean_flipper_length = mean(flipper_length_mm, na.rm=TRUE),\n     mean_culmen_length = mean(culmen_length_mm, na.rm=TRUE))\npenguins %>% \n  summarise(n=n(), # number of rows of data\n            num_penguins = n_distinct(individual_id), # number of unique individuals\n            mean_flipper_length = mean(flipper_length_mm, na.rm=TRUE), # mean flipper length\n            prop_female = sum(sex == \"FEMALE\", na.rm=TRUE) / n()) # proportion of observations that are coded as female"},{"path":"data-wrangling-part-two.html","id":"summarize-across-columns","chapter":"5 Data wrangling part two","heading":"5.2.2 Summarize across columns","text":"across two arguments, .cols .fns..cols argument lets select columns wish apply functions toThe .cols argument lets select columns wish apply functions toThe .fns argument applies required function selected columns..fns argument applies required function selected columns.example calculates means & numeric variables dataset.example slightly complicated way running n_distinct summarise. .cols() looks column contains word \"penguin\" runs n_distinct()command ","code":"\n# Across ----\n# The mean of ALL numeric columns in the data, where(is.numeric == TRUE) hunts for numeric columns\n\npenguins %>% \n  summarise(across(.cols = where(is.numeric), \n                   .fns = ~ mean(., na.rm=TRUE)))\n# number of distinct penguins, as only one column contains the word penguin\n# the argument contains looks for columns that match a character expression\n\npenguins %>% \n  summarise(across(.cols = contains(\"individual\"), \n                   .fns = ~n_distinct(.)))"},{"path":"data-wrangling-part-two.html","id":"group_by-revisited","chapter":"5 Data wrangling part two","heading":"5.2.3 group_by revisited","text":"group_by function provides ability separate summary functions according subgroups wish make. real magic happens pair summarise mutate.example, grouping individual penguin ids, summarising n - can see many times penguin monitored course study.\nRemember actions group_by \"invisible\". Subsequent functions applied \"grouped \" manner - dataframe looks unchanged.\n","code":"\npenguin_stats <- penguins %>% \n  group_by(penguin_id) %>% \n  summarise(num=n())"},{"path":"data-wrangling-part-two.html","id":"more-than-one-grouping-variable","chapter":"5 Data wrangling part two","heading":"5.2.4 More than one grouping variable","text":"need calculate one variable time?\nproblem can submit several arguments:can calculate mean flipper length penguins six combinationsNow first row summary table shows us mean flipper length (mm) female Adelie penguins. eight rows total, six unique combinations two rows sex penguins recorded(NA)","code":"\npenguins_grouped <- penguins %>% \n  group_by(sex, species)\npenguins_grouped %>% \nsummarise(mean_flipper = mean(flipper_length_mm, na.rm=TRUE))"},{"path":"data-wrangling-part-two.html","id":"using-group_by-with-mutate","chapter":"5 Data wrangling part two","heading":"5.2.5 using group_by with mutate","text":"far used group_by summarise function, always case.\nmutate used group_by, calculations occur 'group'. example:calculating group centered mean, new variable contains difference observation mean whichever group observation .","code":"\n# Using mutate and group_by ----\ncentered_penguins <- penguins %>% \n  group_by(sex, species) %>% \n  mutate(flipper_centered = flipper_length_mm-mean(flipper_length_mm, na.rm=TRUE))\n\ncentered_penguins %>% \n  select(flipper_centered)\n# Each row now returns a value for EACH penguin of how much greater/lesser than the group average (sex and species) its flipper is. "},{"path":"data-wrangling-part-two.html","id":"remove-group_by","chapter":"5 Data wrangling part two","heading":"5.2.6 remove group_by","text":"occasion may need remove grouping information dataset. often required string pipes together, need work using grouping structure, revert back whole dataset againLook grouped dataframe, can see information groups top data:Look output - can see information groups now removed data.","code":"# A tibble: 344 x 10\n# Groups:   sex, species [8]\n   species island culmen_length_mm culmen_depth_mm flipper_length_~ body_mass_g\n   <chr>   <chr>           <dbl>         <dbl>            <dbl>       <dbl>\n 1 Adelie  Torge~           39.1          18.7              181        3750\n 2 Adelie  Torge~           39.5          17.4              186        3800\n 3 Adelie  Torge~           40.3          18                195        3250\n# Run this command will remove the groups - but this is only saved if assigned BACK to an object\n\ncentered_penguins <- centered_penguins %>% \n  ungroup()\n\ncentered_penguins"},{"path":"data-wrangling-part-two.html","id":"working-with-character-strings","chapter":"5 Data wrangling part two","heading":"5.3 Working with character strings","text":"Datasets often contain words, call words \"(character) strings\".Often quite want , can manipulate much like. Functions package stringr, fantastic. number different types manipulations endless!","code":"\n# Stringr ----\n\nstr_replace_all(names(penguins), c(\"e\"= \"E\"))\n# replace all character \"e\" with \"E\""},{"path":"data-wrangling-part-two.html","id":"more-stringr","chapter":"5 Data wrangling part two","heading":"5.3.1 More stringr","text":"can also trim leading trailing empty spaces str_trim. often problematic difficult spot e.g.can easily imagine scenario data manually input, trailing leading spaces left . difficult spot eye - problematic far R concerned different values. can use function distinct return names different levels can find dataframe.pipe data throught str_trim function remove gaps, pipe distinct - removing whitespace, R now recognises just one level data.quick example extract partial strings according pattern use str_detect. Combined filter possible subset dataframe searching strings match provided information, penguin IDs start \"N1\"","code":"\npenguins %>% \n  mutate(species=str_to_upper(species))\n# Capitalise all letters\npenguins %>% \n  mutate(species=str_remove_all(species, \"e\"))\n# remove every character \"e\" from selected variables\ndf2 <- tibble(label=c(\"penguin\", \" penguin\", \"penguin \")) \ndf2 # make a test dataframe\ndf2 %>% \n  distinct()\ndf2 %>% \n  mutate(label=str_trim(label, side=\"both\")) %>% \n  distinct()\npenguins %>% \n  filter(str_detect(individual_id, \"N1\"))"},{"path":"data-wrangling-part-two.html","id":"separate","chapter":"5 Data wrangling part two","heading":"5.3.2 separate","text":"Sometimes string might contain two pieces information one. confirm tidy data principles. can easily separate information separate() tidyr package.First produce made-dataWe started one variable called label split two variables, treatment replicate, split made - occurs.\nopposite function unite()","code":"\ndf <- tibble(label=c(\"a-1\", \"a-2\", \"a-3\")) \n#make a one column tibble\ndf\ndf %>% \n  separate(label, # name of variable\n           c(\"treatment\", \"replicate\"), # new column names\n           sep=\"-\") # the character to mark where the separation occurs"},{"path":"data-wrangling-part-two.html","id":"changing-data-formats","chapter":"5 Data wrangling part two","heading":"5.4 Changing data formats","text":"previous worksheet, used glimpse() check format variables. One variables date_egg helpful format. read character string, means intrinsic order values attached dates. likely happened \"/\" symbols. clearly non-numerical symbols variables, R default treating character variables.Luckily can fix using mutate() str_remove_all()Check codeQuestion now mean date_egg variable treated numeric? ryesnoData formats set reading data first time, wish change , need explicitly using mutate()\n.numeric(), .character(), .logical() functions convert data formats, work \"illegal\" characters. may need remove first, examples .\n","code":"\n# DATES ----\npenguins %>% \n  mutate(date_egg = str_remove_all(date_egg, \"/\"))\n# add the as.numeric() function\npenguins %>% \n  mutate(date_egg = as.numeric(str_remove_all(date_egg, \"/\"))) %>% \n  glimpse()"},{"path":"data-wrangling-part-two.html","id":"working-with-dates","chapter":"5 Data wrangling part two","heading":"5.5 Working with dates","text":"now know can change data formats easily, treating date strictly numeric problematic, account number days months number months year.Additionally lot different ways write date:13-10-201913-10-201910-13-201910-13-201913-10-1913-10-1913th Oct 201913th Oct 20192019-10-132019-10-13This variability makes difficult tell software read information, luckily can use functions lubridate package.Depending interpret date ordering file, can use ymd(), ydm(), mdy(), dmy()Question appropriate function use date_egg variable?\nget warning dates parsed, might find date inconsistently entered dataset.\n\nPay attention warning error messages\nuse mutate function dplyr create new variable called date_egg_proper based output converting characters date_egg date format. original variable left intact, specified \"new\" variable also called date_egg overwritten original variable.established date data, able perform calculations. date range across data collected.","code":"\npenguins <- penguins %>% \n  mutate(date_egg_proper = lubridate::dmy(date_egg))\npenguins %>% \n  summarise(min_date=min(date_egg_proper),\n            max_date=max(date_egg_proper))"},{"path":"data-wrangling-part-two.html","id":"calculations-with-dates","chapter":"5 Data wrangling part two","heading":"5.5.1 Calculations with dates","text":"many times penguin measured, across total time period?Cool can also convert intervals days weeks, months years dweeks(1), dmonths(1), dyears(1).cool functions, check RStudio cheat sheet information. Date type data common datasets, learning work useful skill.","code":"\npenguins %>% \n  group_by(individual_id) %>% \n  summarise(first_observation=min(date_egg_proper), \n            last_observation=max(date_egg_proper), \n            study_duration = last_observation-first_observation, \n            n=n())\npenguins %>% \n  group_by(individual_id) %>% \n  summarise(first_observation=min(date_egg_proper), \n            last_observation=max(date_egg_proper), \n            study_duration_years = (last_observation-first_observation)/lubridate::dyears(1), \n            n=n()) %>% \n    arrange(desc(study_duration_years))"},{"path":"data-wrangling-part-two.html","id":"factors","chapter":"5 Data wrangling part two","heading":"5.6 Factors","text":"R, factors class data allow ordered categories fixed set acceptable values.Typically, convert column character numeric class factor want set intrinsic order values (“levels”) can displayed non-alphabetically plots tables, use linear model analyses (later).Another common use factors standardise legends plots fluctuate certain values temporarily absent data.make barplot, order values x axis typically alphabetical order character dataTo convert character numeric column class factor, can use function forcats package. convert class factor also perform allow certain ordering levels - example using forcats::fct_relevel() lets manually specify level order.\nfunction as_factor() simply converts class without capabilities.base R function factor() converts column factor allows manually specify order levels, character vector levels = argument.use mutate() fct_relevel() convert column flipper_range class character class factor.Now call plot, can see x axis categories match intrinsic order specified factor levels.","code":"\npenguins <- penguins %>% \n  mutate(flipper_range = case_when(flipper_length_mm <= 190 ~ \"small\",\n                                   flipper_length_mm >190 & flipper_length_mm < 213 ~ \"medium\",\n                                   flipper_length_mm >= 213 ~ \"large\"))\npenguins %>% \n  ggplot(aes(x = flipper_range))+\n  geom_bar()\npenguins <- penguins %>% \n  mutate(flipper_range = fct_relevel(flipper_range))\nlevels(penguins$flipper_range)## [1] \"large\"  \"medium\" \"small\"\n# Correct the code in your script with this version\npenguins <- penguins %>% \n  mutate(flipper_range = fct_relevel(flipper_range, \"small\", \"medium\", \"large\"))\npenguins %>% \n  ggplot(aes(x = flipper_range))+\n  geom_bar()"},{"path":"data-wrangling-part-two.html","id":"finished-1","chapter":"5 Data wrangling part two","heading":"5.7 Finished","text":"Make sure saved script 💾 \"scripts\" folder.Make sure saved script 💾 \"scripts\" folder.Make sure workspace set save objects environment sessions.Make sure workspace set save objects environment sessions.","code":""},{"path":"data-wrangling-part-two.html","id":"activity-test-yourself","chapter":"5 Data wrangling part two","heading":"5.8 Activity: Test yourself","text":"","code":""},{"path":"data-wrangling-part-two.html","id":"head-to-blackboard-when-complete-and-submit-your-answers-to-the-quiz.-2","chapter":"5 Data wrangling part two","heading":"5.8.1 Head to Blackboard when complete and submit your answers to the quiz.","text":"Question 1. order subset data rows use function select()filter()group_by()Question 2. order subset data columns use function select()filter()group_by()Question 3. order make new column use function group_by()select()mutate()arrange()Question 4. operator use send output line code next line? Question 5. outcome following line code?penguins dataframe object reduced include Adelie penguins now onA new filtered dataframe Adelie penguins printed consoleUnless output series functions \"assigned\" object using <- saved, results immediately printed. code modified order create new filtered object penguins_filteredQuestion 5. main point data \"pipe\"?code runs fasterThe code easier readQuestion 6. naming convention outputted function `janitor::clean_names() \nsnake_casecamelCaseSCREAMING_SNAKE_CASEkebab-caseQuestion 7. package provides useful functions manipulating character strings?stringrggplot2lubridateforcatsQuestion 8. package provides useful functions manipulating dates?stringrggplot2lubridateforcatsQuestion 9. specify character variable factor, ordering default ?numericalalphabeticalorder dataframe","code":"\npenguins %>% \n  filter(species == \"Adelie\")\npenguins_filtered <- penguins %>% \n  filter(species == \"Adelie\")"},{"path":"data-visualisation-with-ggplot2.html","id":"data-visualisation-with-ggplot2","chapter":"6 Data visualisation with ggplot2","heading":"6 Data visualisation with ggplot2","text":"","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"intro-to-grammar","chapter":"6 Data visualisation with ggplot2","heading":"6.1 Intro to grammar","text":"\nFigure 6.1: example can produce ggplot\nggplot2 package widely used valued simple, consistent approach making data visuals.'grammar graphics' relates different components plot function like different parts linguistic grammar. example, plots require axes, x y axes form one part ‘language’ plot. Similarly, plots data represented axes, often points, lines bars. visual way data represented forms another component grammar graphics. Furthermore, colour, shape size points lines can used encode additional information plot. information usually clarified key, legend, can also considered part ‘grammar’.philosophy ggplot much better explained package author, Hadley Wickham (Wickham, Chang, et al. (2021)). now, just need aware ggplots constructed specifying different components want display, based underlying information data frame.","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"before-we-start","chapter":"6 Data visualisation with ggplot2","heading":"6.2 Before we start","text":"workspace ready work Palmer penguins data. Load workspace now.Think basic checks start work today.","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"checklist-2","chapter":"6 Data visualisation with ggplot2","heading":"6.2.1 Checklist","text":"objects already Environment pane? , use rm(list=ls())\nToday going make NEW R script project space previously working. part organising workspace analysis workflow well documented easy follow\nOpen new R script - moving data wrangling data visualisationOpen new R script - moving data wrangling data visualisationSave file scripts folder call 02_visualisation_penguins.RSave file scripts folder call 02_visualisation_penguins.RAdd following script run :Add following script run :find Environment fills objects script 1You find Environment fills objects script 1Save new file inside scripts folder call 02_graphs_penguins.RSave new file inside scripts folder call 02_graphs_penguins.R\nsource() function handy way allowing different scripts different parts R project, allow access objects built elsewhere. way building analysis stages.\n","code":"\n# LOAD R OBJECTS AND FUNCTIONS ----\nsource(\"scripts/01_import_penguins_data.R\")\n# import tidied penguins data and functions\n#__________________________----"},{"path":"data-visualisation-with-ggplot2.html","id":"building-a-plot","chapter":"6 Data visualisation with ggplot2","heading":"6.3 Building a plot","text":"start building plot going use penguin data working previously. First must specify data frame contains relevant data plot. can two ways:‘sending penguins data set ggplot function’:specifying dataframe within ggplot() functionThe output identical\nRunning command produce empty grey panel. need specify different columns data frame represented plot.\n","code":"\n# Building a ggplot step by step ----\n## Render a plot background ----\npenguins %>% \n  ggplot()\nggplot(data = penguins)"},{"path":"data-visualisation-with-ggplot2.html","id":"aesthetics---aes","chapter":"6 Data visualisation with ggplot2","heading":"6.3.1 Aesthetics - aes()","text":"can call different columns data dataset based column names. Column names given ‘aesthetic’ elements ggplot function, wrapped aes() function.want scatter plot, point x y coordinate. want x axis represent flipper length ( x = flipper_length_mm ), y axis represent body mass ( y = body_mass_g ).give specifications separated comma. Quotes required giving variables within aes().\ninterested quotes aren’t required can read [non-standard evaluation] (https://edwinth.github.io/blog/nse/).\nfar grid lines x y axis. ggplot() knows variables required plot, thus scale, information display data points.","code":"\n## Set axes ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))"},{"path":"data-visualisation-with-ggplot2.html","id":"geometric-representations---geom","chapter":"6 Data visualisation with ggplot2","heading":"6.4 Geometric representations - geom()","text":"Given want scatter plot, need specify geometric representation data point form, using geom_point(). many geometric object types.\nFigure 2.1: geom shapes\nadding layer (hence + sign) points plot. can think similar e.g. Adobe Photoshop uses layers images can reordered modified individually. add plots layer layer order geoms may important final aesthetic design.ggplot, layer added plot according position code. first show full breakdown components layer. layer requires information ondataaestheticsgeometric typeany summary datapositionThis quite complicate way write new layers - usual see simpler compact approachNow scatter plot! row (except two rows missing data) penguins data set now x coordinate, y coordinate, designated geometric representation (point).can see smaller penguins tend smaller flipper lengths.","code":"\n## Add a geom ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  layer(                # layer inherits data and aesthetic arguments from previous\n    geom=\"point\",       # draw point objects\n    stat=\"identity\",    # each individual data point gets a geom (no summaries)\n    position=position_identity()) # data points are not moved in any way e.g. we could specify jitter or dodge if we want to avoid busy overlapping data\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point() # geom_point function will always draw points, and unless specified otherwise the arguments for position and stat are both \"identity\"."},{"path":"data-visualisation-with-ggplot2.html","id":"and","chapter":"6 Data visualisation with ggplot2","heading":"6.4.1 %>% and +","text":"ggplot2, early component tidyverse package, written pipe introduced. + sign ggplot2 functions similar way pipe functions tidyverse: allowing code written left right.","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"colour","chapter":"6 Data visualisation with ggplot2","heading":"6.4.2 Colour","text":"colors lines points can set directly using colour=\"red\", replacing “red” color name. colors filled objects, like bars, can set using fill=\"red\".However current plot informative colour used convey information species penguin.order achieve need use aes() , make colour conditional upon variable., aes() function containing relevant column name, given within geom_point() function.\nmay (may ) noticed grammar ggplot (tidyverse general) accepts British/Americanization spelling!!!\ndata visualisations can start gain insights data quickly, can see Gentoo penguins tend larger longer flippers\nAdd carriage returns (new lines) %>% + symbols.\n\ncases, R blind white space new lines, simply make code readable, allow us add readable comments.\n","code":"\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(colour=\"red\")\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(aes(colour=species))"},{"path":"data-visualisation-with-ggplot2.html","id":"more-layers","chapter":"6 Data visualisation with ggplot2","heading":"6.4.3 More layers","text":"can see relationship body size flipper length. want model relationship trend line? can add another ‘layer’ plot, using different geometric representation data. case trend line, fact summary data rather representation point.geom_smooth() function draws trend line data. default behaviour draw local regression line (curve) points, however can hard interpret. want add straight line based linear model (‘lm’) relationship x y.first encounter linear models course, learn lot later .example may notice assigning colour variable (species) geometric layers. means option simplify code. Aesthetics set \"top layer\" ggplot() inherited subsequent layers.\nNote - trend line blocking certain points, ‘top layer’ plot. geom layers appear early command drawn first, can obscured geom layers come .\n\nhappens switch order geom_point() geom_smooth() functions ? notice trend line?\n","code":"\n## Add a second geom ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(aes(colour=species))+\n  geom_smooth(method=\"lm\",    #add another layer of data representation.\n              se=FALSE,\n              aes(colour=species)) # note layers inherit information from the top ggplot() function but not previous layers - if we want separate lines per species we need to either specify this again *or* move the color aesthetic to the top layer. \npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ ### now colour is set here it will be inherited by ALL layers\n  geom_point()+\n  geom_smooth(method=\"lm\",    #add another layer of data representation.\n              se=FALSE)"},{"path":"data-visualisation-with-ggplot2.html","id":"co-ordinate-space","chapter":"6 Data visualisation with ggplot2","heading":"6.4.4 Co-ordinate space","text":"ggplot automatically pick scale axis, type coordinate space. plots Cartesian (linear X vs linear Y) coordinate space.plot, let’s say want x y origin set 0. can add xlim() ylim() functions, define limits axes:, can control coordinate space using coord() functions. Say want flip x y axes, add coord_flip():","code":"\n## Set axis limits ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  xlim(0,240) + ylim(0,7000)\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  xlim(0,240) + ylim(0,7000)+\n  coord_flip()"},{"path":"data-visualisation-with-ggplot2.html","id":"labels","chapter":"6 Data visualisation with ggplot2","heading":"6.5 Labels","text":"default, axis labels column names gave aesthetics aes(). can change axis labels using xlab() ylab() functions. Given column names often short can cryptic, functionality particularly important effectively communicating results.","code":"\n## Custom labels ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  labs(x = \"Flipper length (mm)\",\n       y = \"Body mass (g)\")"},{"path":"data-visualisation-with-ggplot2.html","id":"titles-and-subtitles","chapter":"6 Data visualisation with ggplot2","heading":"6.5.1 Titles and subtitles","text":"","code":"\n## Add titles ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  labs(x = \"Flipper length (mm)\",\n       y = \"Body mass (g)\",\n       title= \"Penguin Size, Palmer Station LTER\",\n       subtitle= \"Flipper length and body mass for three penguin species\")"},{"path":"data-visualisation-with-ggplot2.html","id":"themes","chapter":"6 Data visualisation with ggplot2","heading":"6.6 Themes","text":"Finally, overall appearance plot can modified using theme() functions. default theme grey background.\nmay prefer theme_classic(), theme_minimal() even theme_void(). Try .\nlot customisation available theme() function. look making custom themes later lessons\n\ncan also try installing running even wider range pre-built themes install R package ggthemes.\n\nFirst need run install.packages(\"ggthemes\") command. Remember one times command written script typed directly console. rude send someone script install packages computer - think library() polite request instead!\n\naccess range themes available type help(ggthemes) follow documentation find can .\n","code":"\n## Custom themes ----\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  labs(x = \"Flipper length (mm)\",\n       y = \"Body mass (g)\",\n       title= \"Penguin Size, Palmer Station LTER\",\n       subtitle= \"Flipper length and body mass for three penguin species\")+\n  theme_void()"},{"path":"data-visualisation-with-ggplot2.html","id":"more-geom-shapes","chapter":"6 Data visualisation with ggplot2","heading":"6.7 More geom shapes","text":"","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"jitter","chapter":"6 Data visualisation with ggplot2","heading":"6.7.1 Jitter","text":"geom_jitter() command adds random scatter points can reduce -plotting. Compare two plots:","code":"\n## More geoms ----\nggplot(data = penguins, aes(x = species, y = culmen_length_mm)) +\n  geom_jitter(aes(color = species),\n              width = 0.1, # specifies the width, change this to change the range of scatter\n              alpha = 0.7, # specifies the amount of transparency in the points\n              show.legend = FALSE) # don't leave a legend in a plot, if it doesn't add value"},{"path":"data-visualisation-with-ggplot2.html","id":"boxplots","chapter":"6 Data visualisation with ggplot2","heading":"6.7.2 Boxplots","text":"Box plots, ‘box & whisker plots’ another essential tool data analysis. Box plots summarize distribution set values displaying minimum maximum values, median (.e. middle-ranked value), range middle 50% values (inter-quartile range).\nwhisker line extending IQR box define Q3 + (1.5 x IQR), Q1 - (1.5 x IQR) respectively. can watch short video learn box plots .create box plot data use (prizes ) geom_boxplot()\nNote specifying colour variables using aes() geometric shapes support internal colour \"fill\" external colour \"colour\". Try changing aes fill colour code , note happens.\npoints indicate outlier values [.e., greater Q3 + (1.5 x IQR)].can overlay boxplot scatter plot entire dataset, fully communicate raw summary data. reduce width jitter points slightly.\nexample switched using show.legend=FALSE inside geom layer using theme(legend.position=\"none\"). ? example reducing redundant code. specify show.legend=FALSE every geom layer plot, theme function applies every layer. Save code, save time, reduce errors!\n","code":"\nggplot(data = penguins, aes(x = species, y = culmen_length_mm)) +\n  geom_boxplot(aes(fill = species),\n              alpha = 0.7, \n              width = 0.5, # change width of boxplot\n              show.legend = FALSE)\nggplot(data = penguins, aes(x = species, y = culmen_length_mm)) +\n  geom_boxplot(aes(fill = species), # note fill is \"inside\" colour and colour is \"edges\" - try it for yourself\n              alpha = 0.2, # fainter boxes so the points \"pop\"\n              width = 0.5, # change width of boxplot\n              outlier.shape=NA)+\n  geom_jitter(aes(colour = species),\n                width=0.2)+\n  theme(legend.position = \"none\")"},{"path":"data-visualisation-with-ggplot2.html","id":"density-and-histogram","chapter":"6 Data visualisation with ggplot2","heading":"6.7.3 Density and histogram","text":"Compare following two sets code:first might struggle see/understand difference two charts. shapes roughly .first block code produced frequency histogram, bar represents actual number observations made within 'bin', second block code shows 'relative density' within bin. density histogram area curve sub-group sum 1. allows us compare distributions shapes sub-groups different sizes. example far fewer Adelie penguins dataset, density histogram occupy area graph two species.","code":"\npenguins %>% \n    ggplot(aes(x=culmen_length_mm, fill=species),\n           position = \"identity\")+\n    geom_histogram(bins=50)\npenguins %>% \n    ggplot(aes(x=culmen_length_mm, fill=species))+\n    geom_histogram(bins=50, \n                   aes(y=..density..),\n                   position = \"identity\")"},{"path":"data-visualisation-with-ggplot2.html","id":"more-colours","chapter":"6 Data visualisation with ggplot2","heading":"6.8 More Colours","text":"two main differences comes colors ggplot2. arguments, color fill, can specified single color \nassigned variables.already seen tutorial, variables inside aesthetics encoded variables outside properties unrelated variables.","code":"\npenguins %>% \n    ggplot(aes(x=culmen_length_mm))+\n    geom_histogram(bins=50, \n                   aes(y=..density..,\n                       fill=species), \n                   position = \"identity\",\n                   colour=\"black\")"},{"path":"data-visualisation-with-ggplot2.html","id":"assign-specific-colours-to-variables","chapter":"6 Data visualisation with ggplot2","heading":"6.8.1 Assign specific colours to variables","text":"can specify colours want assign variables number different ways.ggplot2, colors assigned variables modified via scale_color_* scale_fill_* functions. order use color data, importantly need know dealing categorical continuous variable. color palette chosen depending type variable, sequential diverging color palettes used continuous variables qualitative color palettes categorical variables:can pick sets colours assign categorical variable. number specified colours match number categories. can use wide number preset colour names can use hexadecimals.can also use range inbuilt colour palettes:\ncan explore schemes available command RColorBrewer::display.brewer.()\nalso many, many extensions provide additional colour palettes. favourite packages include ggsci wesanderson","code":"\n## Custom colours ----\n\npenguin_colours <- c(\"darkolivegreen4\", \"darkorchid3\", \"goldenrod1\")\n\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(aes(colour=species))+\n  scale_color_manual(values=penguin_colours)+\n  theme_minimal()\npenguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(aes(colour=species))+\n  scale_color_brewer(palette=\"Set1\")+\n  theme_minimal()"},{"path":"data-visualisation-with-ggplot2.html","id":"accessibility","chapter":"6 Data visualisation with ggplot2","heading":"6.9 Accessibility","text":"","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"colour-blindness","chapter":"6 Data visualisation with ggplot2","heading":"6.9.1 Colour blindness","text":"easy get carried away colour palettes, remember times figures must accessible. One way check accessible figures use colour blindness checker colorBlindness","code":"\n## Check accessibility ----\n\nlibrary(colorBlindness)\ncolorBlindness::cvdPlot() # will automatically run on the last plot you made"},{"path":"data-visualisation-with-ggplot2.html","id":"guides-to-visual-accessibility","chapter":"6 Data visualisation with ggplot2","heading":"6.9.2 Guides to visual accessibility","text":"Using colours tell categories apart can useful, can see example , choose carefully. aesthetics can access geoms include shape, size - can combine complimentary ways enhance accessibility plots. hierarchy \"interpretability\" different types data","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"facets","chapter":"6 Data visualisation with ggplot2","heading":"6.10 Facets","text":"Adding combinations different aesthetics allows layer information onto 2D plot, sometimes though things just become busy. point becomes difficult see trends differences plot want break single plot sub-plots; called ‘faceting’. Facets commonly used much data display clearly single plot. revisit faceting , however now, let’s try facet plot according sex.use tilde symbol ‘~’ indicate column name form facet.","code":"\n## Facetting ----\npenguins %>% \n  drop_na(sex) %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g,\n             colour=species))+ \n  geom_point()+\n  geom_smooth(method=\"lm\",    \n              se=FALSE)+\n  facet_wrap(~sex)"},{"path":"data-visualisation-with-ggplot2.html","id":"patchwork","chapter":"6 Data visualisation with ggplot2","heading":"6.11 Patchwork","text":"many times might want combine separate figures multi-panel plots. Probably easiest way patchwork package (Pedersen (2020)).","code":"\n## Patchwork ----\nlibrary(patchwork)\n\np1 <- penguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = culmen_length_mm))+\n  geom_point(aes(colour=species))+\n  scale_color_manual(values=penguin_colours)+\n  theme_minimal()\n\np2 <- penguins %>% \n  ggplot(aes(x=culmen_depth_mm, \n             y = culmen_length_mm))+\n  geom_point(aes(colour=species))+\n  scale_color_manual(values=penguin_colours)+\n  theme_minimal()\n\np3 <- penguins %>%     \n  group_by(sex,species) %>% \n    summarise(n=n()) %>% \n     drop_na(sex) %>% \n     ggplot(aes(x=species, y=n)) + \n  geom_col(aes(fill=sex), \n               width=0.8,\n               position=position_dodge(width=0.9), \n               alpha=0.6)+\n     scale_fill_manual(values=c(\"darkorange1\", \"azure4\"))+\n     theme_classic()\n\n (p1+p2)/p3+\n  plot_layout(guides = \"collect\") "},{"path":"data-visualisation-with-ggplot2.html","id":"activity-replicate-this-figure","chapter":"6 Data visualisation with ggplot2","heading":"6.12 Activity: Replicate this figure","text":"\nclose can get replicating figure ?\n\nMake sure use tips links end chapter, done save file using commands submit Blackboard\n","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"saving","chapter":"6 Data visualisation with ggplot2","heading":"6.13 Saving","text":"One easiest ways save figure made ggsave() function. default save last plot made screen.specify output path figures folder, provide file name. decided call plot plot (imaginative!) want save .PNG image file. can also specify resolution (dpi 300 good enough computer screens).","code":"\n# OUTPUT FIGURE TO FILE\n\nggsave(\"figures/YYYYMMDD_ggplot_workshop_final_plot.png\", dpi=300)"},{"path":"data-visualisation-with-ggplot2.html","id":"quitting-1","chapter":"6 Data visualisation with ggplot2","heading":"6.14 Quitting","text":"\nMake sure saved script! Remember Download image file RStudio Cloud onto computer available upload Blackboard.\n\nrun SessionInfo() end script gather packages versions using. useful cite R versions packages writing reports later.\n","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"finished-2","chapter":"6 Data visualisation with ggplot2","heading":"6.15 Finished","text":"Make sure saved script 💾 \"scripts\" folder.Make sure saved script 💾 \"scripts\" folder.Make sure workspace set save objects environment sessions.Make sure workspace set save objects environment sessions.","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"what-we-learned","chapter":"6 Data visualisation with ggplot2","heading":"6.15.1 What we learned","text":"learnedThe anatomy ggplotsThe anatomy ggplotsHow add geoms different layersHow add geoms different layersHow use colour, colour palettes, facets, labels themesHow use colour, colour palettes, facets, labels themesPutting together multiple figuresPutting together multiple figuresHow save export imagesHow save export images","code":""},{"path":"data-visualisation-with-ggplot2.html","id":"further-reading-guides-and-tips-on-data-visualisation","chapter":"6 Data visualisation with ggplot2","heading":"6.15.2 Further Reading, Guides and tips on data visualisation","text":"R Cheat SheetsR Cheat SheetsFundamentals Data Visualization: book tells everything need know presenting figures accessbility clarityFundamentals Data Visualization: book tells everything need know presenting figures accessbility clarityBeautiful Plotting R: incredibly handy ggplot guide build improve figuresBeautiful Plotting R: incredibly handy ggplot guide build improve figuresThe ggplot2 book: original Hadley Wickham book ggplot2The ggplot2 book: original Hadley Wickham book ggplot2","code":""},{"path":"markdown.html","id":"markdown","chapter":"7 Markdown","heading":"7 Markdown","text":"R Markdown widely-used tool creating automated, reproducible, share-worthy outputs, reports. can generate static interactive outputs, Word, pdf, html, Powerpoint, formats.R Markdown script combines R code text script actually becomes output document. can create entire formatted document, including narrative text (can dynamic change based data), tables, figures, bullets/numbers, bibliographies, etc.Documents produced Rmarkdown, allow analyses included easily - make link raw data, analysis & published report completely reproducible.Rmarkdown can make reproducible html, word, pdf, powerpoints websites dashboards3To make Rmd publish - hit knit button top doc","code":""},{"path":"markdown.html","id":"format","chapter":"7 Markdown","heading":"7.0.1 Format","text":"Go RStudio Cloud open workspace last time.Go RStudio Cloud open workspace last time.Follow instructions carefully - assemble Rmarkdown file bit bit - prompted 'knit' document . observed results might make changes.Follow instructions carefully - assemble Rmarkdown file bit bit - prompted 'knit' document . observed results might make changes.","code":""},{"path":"markdown.html","id":"background-to-rmarkdown","chapter":"7 Markdown","heading":"7.1 Background to Rmarkdown","text":"Markdown “language” allows write document using plain text, can converted html formats. specific R. Files written Markdown ‘.md’ extension.Markdown “language” allows write document using plain text, can converted html formats. specific R. Files written Markdown ‘.md’ extension.R Markdown: variation markdown specific R - allows write document using markdown produce text embed R code display outputs. R Markdown files ‘.Rmd’ extension.R Markdown: variation markdown specific R - allows write document using markdown produce text embed R code display outputs. R Markdown files ‘.Rmd’ extension.rmarkdown - package: used R render .Rmd file desired output. ’s focus converting markdown (text) syntax, also need…rmarkdown - package: used R render .Rmd file desired output. ’s focus converting markdown (text) syntax, also need…knitr: R package read code chunks, execute , ‘knit’ back document. tables graphs included alongside text.knitr: R package read code chunks, execute , ‘knit’ back document. tables graphs included alongside text.Pandoc: Finally, pandoc actually convert output word/pdf/powerpoint etc. software separate R installed automatically RStudio.Pandoc: Finally, pandoc actually convert output word/pdf/powerpoint etc. software separate R installed automatically RStudio.process happens background (need know steps!) involves feeding .Rmd file knitr, executes R code chunks creates new .md (Markdown) file includes R code rendered output..md file processed pandoc create finished product: Microsoft Word document, HTML file, Powerpoint document, pdf, etc.using RStudio Cloud - features pre-loaded - take R journey future install copy R RStudio computer might little setting get working (see Appendices).","code":""},{"path":"markdown.html","id":"starting-a-new-rmd-file","chapter":"7 Markdown","heading":"7.2 Starting a new Rmd file","text":"RStudio, open new R markdown file, start ‘File’, ‘New file’ ‘R markdown…’.R Studio give output options pick . example select “HTML” want create html document. title author names important. output document type want one , don’t worry - can just pick one change script later.","code":""},{"path":"markdown.html","id":"activity-1-make-an-rmarkdown-file","chapter":"7 Markdown","heading":"7.3 Activity 1: Make an Rmarkdown file","text":"Create new Rmarkdown file.Create new Rmarkdown file.Save (without changes) location .Rproj file name contained_report_penguins.Rmd.Save (without changes) location .Rproj file name contained_report_penguins.Rmd.moved visualisation reproducible report making.moved visualisation reproducible report making.\nworking directory .rmd files little different working scripts.\n\n.Rmd file, working directory wherever Rmd file saved.\n\nexample .Rmd file subfolder ~/markdownfiles/markdown.Rmd code read_csv(\"data/data.csv\") within markdown look .csv file subfolder called data inside 'markdown' folder root project folder .RProj file lives.\n\ntwo options using .Rmd files\n\n\nput .Rmd file subfolder make sure lives directory .RProj file - way relative filepaths R scripts Rmarkdown files\n\n\nput .Rmd file subfolder make sure lives directory .RProj file - way relative filepaths R scripts Rmarkdown files\n\n\nUse package describe file locations - later\n\n\nUse package describe file locations - later\n","code":""},{"path":"markdown.html","id":"r-markdown-parts","chapter":"7 Markdown","heading":"7.4 R Markdown parts","text":"R Markdown document can edited RStudio just like standard R script. start new R Markdown script, RStudio tries helpful showing template explains different section R Markdown script.appears starting new Rmd script intended produce html output.can see, three basic components Rmd file:YAMLYAMLMarkdown textMarkdown textR code chunks.R code chunks.","code":""},{"path":"markdown.html","id":"yaml","chapter":"7 Markdown","heading":"7.4.1 YAML","text":"Referred ‘YAML metadata’ just ‘YAML’, recursive acronym stands \"YAML ain't Markdown Language\". found top R Markdown document. section script tell Rmd file type output produce, formatting preferences, metadata document title, author, date.example , clicked default output html file, can see YAML says output: html_document. However can also change say powerpoint_presentation word_document even pdf_document.\nCan edit YAML Rmarkdown file markdown folder name author, today's date title file called \"Penguins Palmer Archipelago, Antarctica\".\n","code":""},{"path":"markdown.html","id":"text","chapter":"7 Markdown","heading":"7.4.2 Text","text":"narrative document, including titles headings. written “markdown” language, used across many different software.core ways write text. See extensive documentation available R Markdown “cheatsheets” RStudio website4.","code":""},{"path":"markdown.html","id":"new-lines","chapter":"7 Markdown","heading":"7.4.2.1 New lines","text":"Uniquely R Markdown, initiate new line, enter *two spaces** end previous line Enter/Return.","code":""},{"path":"markdown.html","id":"text-emphasis","chapter":"7 Markdown","heading":"7.4.2.2 Text emphasis","text":"Surround normal text characters change appears output.Underscores (_text_) single asterisk (*text*) italiciseDouble asterisks (**text**) bold textBack-ticks (` text `) display text codeThe actual appearance font can set using specific templates (specified YAML metadata).","code":""},{"path":"markdown.html","id":"titles-and-headings","chapter":"7 Markdown","heading":"7.4.2.3 Titles and headings","text":"hash symbol text portion R Markdown script creates heading. different chunk R code script, hash symbol mechanism comment/annotate/de-activate, normal R script.Different heading levels established different numbers hash symbols start new line. One hash symbol title primary heading. Two hash symbols second-level heading. Third- fourth-level headings can made successively hash symbols.","code":"\n# First-level heading / Title\n\n## Second level heading  \n\n### Third-level heading\n"},{"path":"markdown.html","id":"bullets-and-numbering","chapter":"7 Markdown","heading":"7.4.2.4 Bullets and numbering","text":"Use asterisks (*) created bullets list. Finish previous sentence, enter two spaces, Enter/Return twice, start bullets. Include space asterisk bullet text. bullet enter two spaces Enter/Return. Sub-bullets work way indented. Numbers work way instead asterisk, write 1), 2), etc. R Markdown script text might look.bullets (two spaces colon):","code":"* Bullet 1 (followed by two spaces and Enter/Return)  \n* Bullet 2 (followed by two spaces and Enter/Return)  \n  * Sub-bullet 1 (followed by two spaces and Enter/Return)  \n  * Sub-bullet 2 (followed by two spaces and Enter/Return)  "},{"path":"markdown.html","id":"code-chunks","chapter":"7 Markdown","heading":"7.4.3 Code Chunks","text":"Sections script dedicated running R code called “chunks”. may load packages, import data, perform actual data management visualisation. may many code chunks, can help organize R code parts, perhaps interspersed text. note: ‘chunks’ appear slightly different background colour narrative part document.chunk opened line starts three back-ticks, curly brackets contain parameters chunk { }. chunk ends three back-ticks.can create new chunk typing , using keyboard shortcut “Ctrl + Alt + ” (Cmd + Shift + r Mac), clicking green ‘insert new code chunk’ icon top script editor.\nnotes contents curly brackets { }:\n\nstart ‘r’ indicate language name within chunk R. possible include programming language chunks SQL, Python Bash.\n\nr can optionally write chunk “name” – necessary can help organise work. Note name chunks, ALWAYS use unique names else R complain try render.\n\nlanguage name optional chunk name put comma, can include options , written tag=value, :\n\n\neval = FALSE run R code\n\n\neval = FALSE run R code\n\n\necho = FALSE print chunk’s R source code output document\n\n\necho = FALSE print chunk’s R source code output document\n\n\nwarning = FALSE print warnings produced R code\n\n\nwarning = FALSE print warnings produced R code\n\n\nmessage = FALSE print messages produced R code\n\n\nmessage = FALSE print messages produced R code\n\n\ninclude = either TRUE/FALSE whether include chunk outputs (e.g. plots) document\n\n\ninclude = either TRUE/FALSE whether include chunk outputs (e.g. plots) document\n\n\n.width = .height = - size ouput e.g. .width = \"75%\"\n\n\n.width = .height = - size ouput e.g. .width = \"75%\"\n\n\nfig.align = \"center\" adjust figure aligned across page\n\n\nfig.align = \"center\" adjust figure aligned across page\n\n\nfig.show='hold' chunk prints multiple figures want printed next (pair .width = c(\"33%\", \"67%\").\n\n\nfig.show='hold' chunk prints multiple figures want printed next (pair .width = c(\"33%\", \"67%\").\nchunk header must written one lineA chunk header must written one lineTry avoid periods, underscores, spaces. Use hyphens ( - ) instead need separator.Try avoid periods, underscores, spaces. Use hyphens ( - ) instead need separator.Read extensively knitr options here5.also two arrows top right chunk, useful run code within chunk, code prior chunks. Hover see .","code":"```{r}\n\n```"},{"path":"markdown.html","id":"activity-2-knit-your-first-document","chapter":"7 Markdown","heading":"7.5 Activity 2: Knit your first document","text":"\nTry first \"knit\" make document.\nKnit template document provided opened new Rmd file. Make note different R chunks, processed outputs look like.Question 1. global option document set show R code used render chunks FALSETRUEknitr::opts_chunk$set(echo = TRUE)Question 2. Options set individual code chunks override global options TRUEFALSEIn second chunk see echo = FALSE prevented code printed, see rendered outputQuestion 3. wanted see R code, output need select combo code chunk options? echo = TRUE, eval = TRUEecho = FALSE, eval = TRUEecho = TRUE, eval = FALSEecho = FALSE, eval = FALSE","code":""},{"path":"markdown.html","id":"global-options-1","chapter":"7 Markdown","heading":"7.5.1 Global options","text":"global options applied chunks script, can set within first R code chunk script.\nhandy know want majority code chunks behave way.\ninstance, outputs shown code chunk code , can include command R code chunk (set chunk include = false):","code":"\nknitr::opts_chunk$set(echo = FALSE) "},{"path":"markdown.html","id":"in-text-code","chapter":"7 Markdown","heading":"7.5.2 In-text code","text":"can also include minimal R code within back-ticks. Within back-ticks, begin code “r” space, RStudio knows evaluate code R code. See example .` r Sys.Date()`typed -line within section otherwise Markdown text, knows produce r output instead: 2022-08-17\nadded -line code, try re-knitting .Rmd file, output?\n","code":""},{"path":"markdown.html","id":"activity-3-generating-a-self-contained-report-from-data","chapter":"7 Markdown","heading":"7.6 Activity 3: Generating a self-contained report from data","text":"relatively simple report, may elect organize R Markdown script “self-contained” involve external scripts.Set Rmd file 'read' penguins data file.Everything need run R markdown imported created within Rmd file, including code chunks package loading. “self-contained” approach appropriate need much data processing (e.g. brings clean semi-clean data file) rendering R Markdown take long.scenario, one logical organization R Markdown script might :Set global knitr optionsSet global knitr optionsLoad packagesLoad packagesImport dataImport dataProcess dataProcess dataProduce outputs (tables, plots, etc.)Produce outputs (tables, plots, etc.)Save outputs, applicable (.csv, .png, etc.)Save outputs, applicable (.csv, .png, etc.)","code":"```{r, include=FALSE}\n# GLOBAL KNITR OPTIONS ----\nknitr::opts_chunk$set(echo = TRUE)\n# ____________________----\n\n# PACKAGES ----\nlibrary(tidyverse)\n\n``````{r, include=FALSE}\n# READ DATA ----\n\npenguins <- read_csv(\"data/penguins_raw.csv\")\n\nhead(penguins)\n\n```"},{"path":"markdown.html","id":"here","chapter":"7 Markdown","heading":"7.6.1 here","text":"package Müller (2020) function () make easy tell R find save files - essence, builds file paths. becomes especially useful dealing alternate filepaths generated .Rmd files, can used exporting/importing scripts, functions data.() works within R project:package first loaded within R project, places small file called “.” root folder R project “benchmark” “anchor”package first loaded within R project, places small file called “.” root folder R project “benchmark” “anchor”scripts, reference file R project’s sub-folders, use function () build file path relation anchorIn scripts, reference file R project’s sub-folders, use function () build file path relation anchorTo build file path, write names folders beyond root, within quotes, separated commas, finally ending file name file extension shown belowTo build file path, write names folders beyond root, within quotes, separated commas, finally ending file name file extension shown belowhere() file paths can used importing exportinghere() file paths can used importing exportingSo use () wrapped inside functions importing/exporting (like read_csv() ggsave()) include () can still use RProject location root directory 'knitting' Rmarkdown files, even markdown tidied away separate sub-folder.means previous relative filepaths replaced \nmight want start using () now read export data scripts. Make sure consistent whether use () heuristic file paths relative file paths across files project - otherwise might encounter errors.\n","code":"```{r, include=FALSE}\n# GLOBAL KNITR OPTIONS ----\nknitr::opts_chunk$set(echo = TRUE)\n# ____________________----\n\n# PACKAGES ----\nlibrary(tidyverse)\nlibrary(here)\n\n``````{r, include=FALSE}\n# READ DATA ----\n\npenguins <- read_csv(here(\"data\", \"penguins_raw.csv\"))\n\nhead(penguins)\n\n```"},{"path":"markdown.html","id":"activity-4-can-you-change-the-global-options-of-your-rmd-file-so-that-it-doesnt-display-any-code-warnings-or-messages","chapter":"7 Markdown","heading":"7.7 Activity 4: Can you change the global options of your Rmd file so that it doesn't display any code, warnings or messages?","text":"made edits chunk options try hitting 'knit' .","code":""},{"path":"markdown.html","id":"static-images","chapter":"7 Markdown","heading":"7.8 Static images","text":"can include images R Markdown several ways:knitr::include_graphics(\"path//image.png\")","code":"knitr::include_graphics(\"../images/darwin.png\")\n\nknitr::include_graphics(here(\"images\", \"darwin.png\")"},{"path":"markdown.html","id":"ggplot","chapter":"7 Markdown","heading":"7.9 ggplot","text":"","code":""},{"path":"markdown.html","id":"size-options-for-figures","chapter":"7 Markdown","heading":"7.9.1 Size options for figures","text":"Options fig.width fig.height enable set width height R produced figures. default value set 7 (inches). play options, prefer using one (fig.width) association another one, fig.asp, sets height--width ratio figure. ’s easier mind play ratio give width height separately. default value fig.asp NULL often set (0.8), often corresponds expected result.Size options figures produced R consequences relative sizes elements figures. ggplot2 figure, elements remain size defined used theme, whatever chosen size figure. Therefore huge size can lead small text vice versa.\nbase font size 11 pts default. can change base_size argument theme ’re using.\nfind result like, ’ll need combine sizes set theme set chunk options. customised theme, default size (7) looks good .texts axis longer figures overloaded, can choose bigger size (8 9) relatively reduce figure elements. ’s worth noting text sizes, can also modify base size theme obtain similar figures.","code":"\npenguin_colours <- c(\"darkolivegreen4\", \"darkorchid3\", \"goldenrod1\")\n\nplot <- penguins %>% \n  ggplot(aes(x=flipper_length_mm, \n             y = body_mass_g))+\n  geom_point(aes(colour=species))+\n  scale_color_manual(values=penguin_colours)+\n  theme_minimal(base_size = 11)```{r fig.asp = 0.8, fig.width = 3}\nplot\n# figure elements are too big\n``````{r fig.asp = 0.8, fig.width = 10}\nplot\n# figure elements are too small\n``````{r fig.asp = 0.8, fig.width = 7}\nplot\n``````{r fig.asp = 0.8, fig.width = 7}\nplot + theme(base_size = 14)\n# figure width stays the same, but modify the text size in ggplot\n```"},{"path":"markdown.html","id":"size-of-final-figure-in-document","chapter":"7 Markdown","heading":"7.9.2 Size of final figure in document","text":"Figures made R R Markdown document exported (default png format) inserted final rendered document. Options .width .height enable us choose size figure final document.rare need re-scale height--width ratio figures produced R ratio kept modify one option therefore use .width. like use percentage define size output figures. example size set 50%","code":"```{r fig.asp = 0.8, fig.width = 7, out.width = \"50%}\nplot \n# The final rendered size of the image changes according to out.width\n```"},{"path":"markdown.html","id":"changing-default-values-of-chunk-options","chapter":"7 Markdown","heading":"7.9.3 Changing default values of chunk options","text":"can also change default values chunk options writing beginning R Markdown document.values applied chunks unless specify value chunk locally. can set values often used (differ default one) avoid repeating chunk.https://benjaminlouis-stat.fr/en/blog/2020-05-21-astuces-ggplot-rmarkdown/","code":"```{r setup, include=FALSE}\nknitr::opts_chunk$set(\n fig.width = 6,\n fig.asp = 0.8,\n out.width = \"80%\"\n)\n```"},{"path":"markdown.html","id":"tables","chapter":"7 Markdown","heading":"7.10 Tables","text":"create manage able objects, first pass data frame kable() function. package kableExtra Zhu (2020) gives us lots extra styling options.6\nCan get working? Add library call kableExtra first chunk Rmd file, make chunk bottom file hit knit test.\n\nTable 7.1: Mean Body mass (g) flipper length (mm) three species Penguin Palmer Archipelago\n","code":"\npenguins %>% \n  group_by(Species) %>% \n  summarise(`Body Mass (g)`= mean(`Body Mass (g)`, na.rm = T),\n            `Flipper Length (mm)`= mean(`Flipper Length (mm)`, na.rm = T)) %>% \n  kbl(caption = \"Mean Body mass (g) and flipper length (mm) for three species of Penguin in the Palmer Archipelago\") %>% \n  kable_styling(bootstrap_options = \"striped\", full_width = F, position = \"left\")"},{"path":"markdown.html","id":"source-files","chapter":"7 Markdown","heading":"7.11 Source files","text":"One variation “self-contained” approach R Markdown code chunks “source” (run) R scripts.can make R Markdown script less cluttered, simple, easier organize. can also help want display final figures beginning report.approach, final R Markdown script simply combines pre-processed outputs document. already used source() function feed R objects one script another, now can thing report.advantage data cleaning organising happens \"elsewhere\" need repeat code. make changes analysis scripts, reflected changes report next time compile (knit) .","code":"source(\"scripts/your-script.R\")"},{"path":"markdown.html","id":"activity-5","chapter":"7 Markdown","heading":"7.12 Activity 5:","text":"Create new Rmarkdown file (reports folder).Create new Rmarkdown file (reports folder).Save (without changes) folder .Rproj file call 03_linked_report_penguins.Rmd.Save (without changes) folder .Rproj file call 03_linked_report_penguins.Rmd.\nnow source pre-written scripts data loading wrangling R project, just use source command read script - can call objects made externally - case penguin plot - put code block hit knit.\n","code":"```{r, include=FALSE}\n# GLOBAL KNITR OPTIONS ----\nknitr::opts_chunk$set(echo = TRUE)\n# ____________________----\n\n# PACKAGES ----\nlibrary(tidyverse)\n\n\n``````{r, include=FALSE}\n# READ DATA ----\n\nsource(\"scripts/02_visualisation_penguins.R\")\n\n#___________________________----\n\n# PLOT ----\n\n (p1+p2)/p3+\n  plot_layout(guides = \"collect\") \n\n```"},{"path":"markdown.html","id":"activity-6-test-yourself-1","chapter":"7 Markdown","heading":"7.13 Activity 6: Test yourself","text":"make another reproducible report.Make new .rmd file YYYYMMDD_surname_5023Y_rmd_workshop.RmdMake new .rmd file YYYYMMDD_surname_5023Y_rmd_workshop.RmdMake summary figure want penguins data ggplotMake summary figure want penguins data ggplotMake summary table summarise kableExtraMake summary table summarise kableExtraWrite sentences explaining presentingWrite sentences explaining presentingKnit report pdfKnit report pdfUse chunk options optimise figure layout text make raw code rendered outputs visible.Use chunk options optimise figure layout text make raw code rendered outputs visible.","code":""},{"path":"markdown.html","id":"head-to-blackboard-when-complete-and-submit-your-document.","chapter":"7 Markdown","heading":"7.13.1 Head to Blackboard when complete and submit your document.","text":"","code":""},{"path":"markdown.html","id":"summing-up-rmarkdown","chapter":"7 Markdown","heading":"7.14 Summing up Rmarkdown","text":"","code":""},{"path":"markdown.html","id":"what-we-learned-1","chapter":"7 Markdown","heading":"7.14.1 What we learned","text":"learnedHow use markdownHow use markdownHow embed R chunks, produce code, figures analysesHow embed R chunks, produce code, figures analysesHow organise projects hereHow organise projects hereHow knit pdf html outputsHow knit pdf html outputsHow make simple tablesHow make simple tablesYou usedknitr part Rmarkdownknitr part RmarkdownkableExtra Zhu (2020)kableExtra Zhu (2020)Müller (2020)Müller (2020)","code":""},{"path":"markdown.html","id":"further-reading-guides-and-tips","chapter":"7 Markdown","heading":"7.14.2 Further Reading, Guides and tips","text":"R Cheat SheetsR Cheat SheetsXie (2015) Dynamic documents RmarkdownXie (2015) Dynamic documents RmarkdownThe fully comprehensive guide(https://rmarkdown.rstudio.com/articles_intro.html)(https://rmarkdown.rstudio.com/authoring_quick_tour.html)","code":""},{"path":"github.html","id":"github","chapter":"8 Github","heading":"8 Github","text":"https://intro2r.com/use_git.html#undo","code":""},{"path":"github.html","id":"lets-git-it-started","chapter":"8 Github","heading":"8.1 Let's Git it started","text":"Git version control system. Originally built help groups developers work collaboratively big software projects. helps us manage RStudio projects - tracked changes.Git GitHub big part data science community. can use GitHub number waysTo source code repurpose analyses built others usesTo source code repurpose analyses built others usesManage analysis projects parts :Manage analysis projects parts :DataDataScriptsScriptsFiguresFiguresReportsReportsAre version controlled open accessVersion control lets recover mistakes & analysis backed externallyVersion control lets recover mistakes & analysis backed externallyWhen come publish reports - analysis accessible othersWhen come publish reports - analysis accessible othersBuild library projects show can Data ScienceBuild library projects show can Data ScienceWatch video today's session","code":""},{"path":"github.html","id":"will-this-be-fun","chapter":"8 Github","heading":"8.1.1 Will this be fun?","text":".Using GitHub version control bit like cleaning teeth. exactly fun, good promotes excellent hygiene. also takes 2 minutes.talk projects GitHub refer Repositories / repos.Repos GitHub unit RStudio Project - place can easily store information/data/etc. related whatever project working .way set RStudio Projects now extra steps itMake new GitHub repository (fork existing one)Make new GitHub repository (fork existing one)Make New project RStudio Cloud - selecting GitHub Repository optionMake New project RStudio Cloud - selecting GitHub Repository optionClone GitHub repo RStudio ProjectClone GitHub repo RStudio ProjectMake sure RStudio Github can talk otherMake sure RStudio Github can talk otherGo normal businessGo normal businessWhen comes saving files, also periodically make commit - takes multi-file snapshot entire projectWhen comes saving files, also periodically make commit - takes multi-file snapshot entire projectAt end session push changes GitHub.end session push changes GitHub.changes working RStudio feel little different first, quickly become routine - big step forward Data Science skills.","code":""},{"path":"github.html","id":"the-payoff","chapter":"8 Github","heading":"8.1.2 The Payoff","text":"portfolio build library data science projects can show offA portfolio build library data science projects can show offbe keen track development R packages GitHUbbe keen track development R packages GitHUbversion control keep safe archive edits changesversion control keep safe archive edits changesplay others easy ways collaborate data science projectsplay others easy ways collaborate data science projectsFor full rundown use Git R go wrong checking Happy Git","code":""},{"path":"github.html","id":"set-up-github","chapter":"8 Github","heading":"8.2 Set up GitHub","text":"First things first need set GitHub account.Head GitHub sign free account.\nMake careful note \n\n\nusername choose\n\n\nusername choose\n\n\nUse email signed RStudio Cloud \n\n\nUse email signed RStudio Cloud \n\n\nNote password carefully!\n\n\nNote password carefully!\n","code":""},{"path":"github.html","id":"exercise-1.-fork-clone-an-existing-repo-on-github-make-edits-push-back","chapter":"8 Github","heading":"8.3 Exercise 1. Fork & clone an existing repo on GitHub, make edits, push back","text":". Go github.com log (need account - sign uea.ac.uk e-mail)b. Search bar, look repo Philip-Leftwich/5023Y-Happy-Gitc. Click repo name, look existing repo structured. FORK repo","code":""},{"path":"github.html","id":"what-the-hell-is-a-fork","chapter":"8 Github","heading":"8.3.1 What the hell is a fork?","text":"fork generate personal copy another user's repository.e. Press Clone/download copy URL, create new project RStudio Cloud selecting New project Git repository option - make sure 5023Y Workspacef. Open some_cool_animals.Rmd document, accompanying htmlg. Add name top documenth. WAIT. forgotten add great image facts important species - Baby Yoda, including image (file repo, info add ).FACTSAlso known \"Child\"Also known \"Child\"likes unfertilised frog eggs & control knobslikes unfertilised frog eggs & control knobsstrong forcestrong force\n \n\n \n. ’ve added Grogu, knit Rmd document update htmlj. Add Git credentials go section talking githubk. Stage, Commit & Push files (glossary)Staged - pick files intend bind commitCommit - write short descriptive message, binds changes single commitPush - \"Pushes\" changes local repo remote repo GitHub, (push)l. GitHub, refresh see files updated. Cool! Now ’ve used something someone else created, customized , saved updated version.","code":""},{"path":"github.html","id":"talking-to-github","chapter":"8 Github","heading":"8.4 Talking to GitHub","text":"Getting set talk GitHub can seem like pain. Eventually work computer - copy R & RStudio installed - . now use RStudio Cloud - looks like per project. takes seconds put commands directly console.Run first line console put GitHub username e-mail connected GitHub account.\nMake sure go RStudio Cloud profile > Authentication select Github Enabled & Private repo access also enabled\nneed give RStudio Cloud GitHub Personal Access Token, can retrieve going Settings > Developer Settings > Generate TokenSelect \"scopes\" name token.Make note need whenever set new project want talk GitHub. GitHub recently removed password authentication favour PATs, RStudio Cloud seem updated yet - ok though - just enter line code - copy+paste PAT prompted. - Option set/replace credentials.forget PAT - ok - retrieve - can just generate new one.","code":"\nusethis::use_git_config(user.name = \"Jane Doe\", user.email = \"jane@example.org\")\ngitcreds::gitcreds_set()"},{"path":"github.html","id":"see-changes","chapter":"8 Github","heading":"8.4.1 See changes","text":"first immediate benefit using GitHub RStudio Project seeing changes made since last commit.RStudio Git pane lists every file ’s added, modified deleted. icon describes change:changed file\nadded new file Git seen \ndeleted file\ncan get details changes made file right-clicking selecting diffThis opens new window highlighting differences current file previous commit.","code":""},{"path":"github.html","id":"how-to-use-version-control---when-to-commit-push-and-pull","chapter":"8 Github","heading":"8.5 How to use version control - when to commit, push and pull","text":"Repositories (repos) GitHub unit RStudio Project - place can easily store information/data/etc. related whatever project working .create Repository GitHub communicating Project RStudio, can get (pull) information GitHub RStudio, push information RStudio GitHub safely stored /collaborators can access . also keeps complete history updated versions can accessed/reviewed collaborators time, anywhere, long internet.mentioned term commit times (8.8). fundamental unit work Git commit. commit takes snapshot code specified point time.create commit two stages:stage files, telling Git changes included next commit.stage files, telling Git changes included next commit.commit staged files, describing changes message.commit staged files, describing changes message.create new commit, save files, select files inclusion staging , tick checkbox select commit boxA new window open - see diffs bottom pane, files selected latest commit.","code":""},{"path":"github.html","id":"commit","chapter":"8 Github","heading":"8.5.1 Commit","text":"now need write commit message. short meaningfulDescribe , . Git stores associated differences commits, message doesn’t need say exactly changed. Instead provide summary focuses reasons change. Make understandable someone else!click commit new window open summarises commit - can close ","code":""},{"path":"github.html","id":"push","chapter":"8 Github","heading":"8.5.2 Push","text":"moment, commits local, order send GitHub select Push point github credentials need place - get prompted provide , close windows follow steps trying .git pane empty point - little message top detailing many commits ahead master repo GitHub.","code":""},{"path":"github.html","id":"a-couple-of-general-tips","chapter":"8 Github","heading":"8.5.3 A couple of general tips:","text":"\n\nPull start every session retrieves master repo GitHub - update end every session. helps prevent conflicts\n\n\nPull start every session retrieves master repo GitHub - update end every session. helps prevent conflicts\n\n\nCommit/push small, meaningful increments often. can make multiple commits session - always push end session\n\n\nCommit/push small, meaningful increments often. can make multiple commits session - always push end session\n\n\nway GitHub Repo becomes master copy project.\n\n\nway GitHub Repo becomes master copy project.\n","code":""},{"path":"github.html","id":"turn-back-time-with-git","chapter":"8 Github","heading":"8.5.4 Turn back time with Git","text":"start using Git RStudio - get whole bunch different options undoing changes, correcting mistakes turning back time previous versions!undo changes commits can select diff option remove lines one--oneTo undo changes commits can select diff option remove lines one--oneRight-click file Git pane select revert option undo changes previous commit beware undone.Right-click file Git pane select revert option undo changes previous commit beware undone.catch mistake right away can select history button pull previous commits GitHub.","code":"\"If I could turn back time,\n\nIf I could find a way,\n\nI'd take back those commits that have hurt you,\n\nAnd you'd stay\" - Cher"},{"path":"github.html","id":"exercise-2.-github-classrooms-enabled-r-projects-with-subfolders","chapter":"8 Github","heading":"8.6 Exercise 2. GitHub Classrooms enabled R Projects with subfolders","text":"GitHub Classrooms way set repos assigments - accept assignment GitHub Classroom automatically forks private repo .make regular commits pushes save work go - grading project repositories GitHub classrooms assignment work.\naccept assignment GitHub classrooms - repo appear main profile, belongs class rather . can always find searching Organisations - probably easiest just make bookmark/make note unique URL assignment.\n. Follow invite linkb. invited sign-Github (already) & join UEABIO organisationc. Clone assignment work locally RStudio Cloud - 5023Y Workspaced. local project folder, create subfolders ‘data’ ‘figures’, 'scripts', 'markdown' (Note use dir.create commands console)e. Drop file disease_burden.csv ‘data’ subfolderf. Open new .R scriptg. Attach tidyverse, janitor, optionally packagesh. Read infant_mortality.csv dataThis file look death rate every country world across six decades. See README informationi. Stage, commit & push point - notice empty folder ‘final_graphs’ doesn’t show (won’t commit empty folder) - set git credentials againj. Back script, write short script read clean data.script pre-written, puts data tidy format, cleans names, makes sure year treated date data filters four countries interest.Assign new objectk. Make ggplot plotting infant mortality rate countryHINT - use geom_line() remember separate countries colourl. Update graph direct labels (using annotate) vertical horizontal lines geom_vline geom_hline.m. Use ggsave() write graph .png ‘final_graphs’ subfoldern. Save, stage, commito one cool fun thing! make interactive version plot using plotly Sievert et al. (2021) just fun!p Now save, stage, commit & pushq. Check changes stored GitHub(NOTE organisations rather repos)Make sure finish exercises next week become GitHub pro!!!!!!!!!","code":"\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(janitor)\nlibrary(plotly)\n\ninfant_mortality <- read_csv(\"data/infant_mortality.csv\") \n\nsubset_infant_mortality <- infant_mortality %>%\n  pivot_longer(cols=\"1960\":\"2020\", \n               names_to=\"year\",               \n               values_to=\"infant_mortality_rate\") %>%\n  mutate(year=lubridate::years(year)) %>% # set ymd format\n  mutate(year=lubridate::year(year)) %>% # extract year\n  janitor::clean_names() %>% # put names in snake case\n  filter(country_name %in% \n           c(\"United States\", \n             \"Japan\", \n             \"Afghanistan\", \n             \"United Kingdom\")) # extract four countries\n\n# View(subset_infant_mortality)\n\n# subset the date according to (US,UK, Japan = lowest infant death rates, Afghanistan = highest infant death rates)\nggplot(data = subset_infant_mortality) +\n  geom_line(aes(x = year,\n                 y = infant_mortality_rate,\n                 color = country_name))\nggsave(\"figures/infant mortality graph.png\", plot=mortality_figure, dpi=900, width = 7, height = 7)\nggplotly(mortality_figure, tooltip = c(\"infant_mortality_rate\"))\n## uses plotly package"},{"path":"github.html","id":"find-your-classroom-repos","chapter":"8 Github","heading":"8.7 Find your classroom repos","text":"work GitHub classrooms repos become part organisation UEABIO.\nwant find repos GitHub can use direct URL (noted ), head (https://github.com/UEABIO) - able see repos belong .","code":""},{"path":"github.html","id":"glossary-github","chapter":"8 Github","heading":"8.8 Glossary-GitHub","text":"","code":""},{"path":"github.html","id":"summing-up-github","chapter":"8 Github","heading":"8.9 Summing up GitHub","text":"","code":""},{"path":"github.html","id":"what-we-learned-2","chapter":"8 Github","heading":"8.9.1 What we learned","text":"learnedHow fork clone GitHub ProjectsHow fork clone GitHub ProjectsHow use GitHub classroomsHow use GitHub classroomsHow make RStudio GitHub talk otherHow make RStudio GitHub talk otherHow use version control, stage, commit pushHow use version control, stage, commit pushYou usedgitcreds Csárdi (2020)gitcreds Csárdi (2020)usethis Wickham, Bryan, et al. (2021)usethis Wickham, Bryan, et al. (2021)","code":""},{"path":"functions-1.html","id":"functions-1","chapter":"9 Functions","heading":"9 Functions","text":"","code":""},{"path":"data-insights-part-one.html","id":"data-insights-part-one","chapter":"10 Data Insights part one","heading":"10 Data Insights part one","text":"","code":""},{"path":"data-insights-part-two.html","id":"data-insights-part-two","chapter":"11 Data insights part two","heading":"11 Data insights part two","text":"","code":""},{"path":"mixed-models.html","id":"mixed-models","chapter":"12 Mixed models","heading":"12 Mixed models","text":"","code":""},{"path":"mixed-models.html","id":"what-is-mixed-modelling-and-why-do-we-need-it","chapter":"12 Mixed models","heading":"12.1 What is mixed modelling and why do we need it?","text":"Ecological biological data often complicated messy. can lots grouping factors like populations, data collection sites mean data clusters data points truly independent. mixed models useful, combine fixed random effects help us deal messy data, structured data, help us save degrees freedom. incredibly useful, frequently tricky implement well!","code":""},{"path":"mixed-models.html","id":"fixed-effects","chapter":"12 Mixed models","heading":"12.1.1 Fixed effects","text":"far statistics dealt fixed effectsFixed effects variables constant, constant effect individual. example can argue effect species average body mass constant, change. argued variables change time, research experimental purposes constant. assume values fixed variable one study values another study.","code":""},{"path":"mixed-models.html","id":"random-effects","chapter":"12 Mixed models","heading":"12.1.2 Random effects","text":"Random effects, opposite fixed effects. variables unpredictable effects, example sample sites. perfectly plausible data collected within different sites similar data different sites.Unlike fixed effects assume values samples drawn larger population values. often interested explicit effect variable, expect effect dependent variable wish account . number grouping variables, example:Study-siteStudy-siteRepeated measurements individualRepeated measurements individualExperimental replicationsExperimental replications","code":""},{"path":"mixed-models.html","id":"the-data","chapter":"12 Mixed models","heading":"12.2 The data","text":"going look bacterial growth four different growth media. ran experiment five times, five different microbial growth cabinets","code":"\nhead(bacteria)"},{"path":"mixed-models.html","id":"simple-model","chapter":"12 Mixed models","heading":"12.3 Simple model","text":"","code":""},{"path":"mixed-models.html","id":"covariates","chapter":"12 Mixed models","heading":"12.4 Covariates","text":"","code":""},{"path":"mixed-models.html","id":"mixed-model","chapter":"12 Mixed models","heading":"12.5 Mixed model","text":"","code":""},{"path":"mixed-models.html","id":"random-slopes","chapter":"12 Mixed models","heading":"12.5.1 Random slopes","text":"Rats data - ExeterPlot scatterplot Alcohol vs TotalPhenols colour data points WineType\nSomething","code":"\nplot(iris)\nplot(cars)"},{"path":"generalised-additive-models.html","id":"generalised-additive-models","chapter":"13 Generalised Additive Models","heading":"13 Generalised Additive Models","text":"","code":""},{"path":"structural-equation-modelling.html","id":"structural-equation-modelling","chapter":"14 Structural equation modelling","heading":"14 Structural equation modelling","text":"","code":""},{"path":"unsupervised-machine-learning.html","id":"unsupervised-machine-learning","chapter":"15 Unsupervised Machine Learning","heading":"15 Unsupervised Machine Learning","text":"","code":""},{"path":"installing-r.html","id":"installing-r","chapter":"A Installing R","heading":"A Installing R","text":"","code":""},{"path":"installing-r.html","id":"why-should-i-install-r-on-my-computer","chapter":"A Installing R","heading":"A.1 Why should I install R on my computer?","text":"R Server cuts lot installation problems means packages functions need already installed. However, requires internet connection use additional comes time submit R assessments, R computer means able open files download server check ok submit .great detailed walkthrough videos Danielle Narvarro YouTube re: install R Windows Mac.","code":""},{"path":"installing-r.html","id":"windows","chapter":"A Installing R","heading":"A.2 Windows","text":"using Windows, download install following:RR StudioRToolsOnce installed three programs, restart computer. , open RStudio (R) run code:install tidyverse package computer. problems installing R, please book GTA session able help installation problems.","code":"\ninstall.packages(\"tidyverse\")"},{"path":"installing-r.html","id":"mac","chapter":"A Installing R","heading":"A.3 Mac","text":"using Mac, download install following:RR StudioXQuartzIf issues installing R Mac, first, recommend watch walkthrough Danielle Navarro.issues Mac, may find video helpful walkthrough video. Additionally, using Mac Catalina OS, also recommend read troubleshooting guideOnce installed three programs, restart computer. , open RStudio (R) run code:install tidyverse package computer. problems installing R, please book GTA session able help installation problems.","code":"\ninstall.packages(\"tidyverse\")"},{"path":"installing-r.html","id":"chromebooks","chapter":"A Installing R","heading":"A.4 Chromebooks","text":"Please note currently install R Chromebook, please use R Server.\n## RStudio SettingsThere settings fix immediately updating RStudio. Go Global Options... Tools menu (⌘,), General tab, uncheck box says Restore .RData workspace startup. keep things around workspace, things get messy, unexpected things happen. always start clear workspace. also means never want save workspace exit, set Never. thing want save scripts.may also want change appearance code. Different fonts themes can sometimes help visual difficulties dyslexia.\nFigure .1: RStudio General Appearance settings\nmay also want change settings Code tab. Foe example, Lisa prefers two spaces instead tabs code likes able see whitespace characters. matter personal preference.\nFigure .2: RStudio Code settings\n","code":""},{"path":"installing-r.html","id":"installing-latex","chapter":"A Installing R","heading":"A.5 Installing LaTeX","text":"can install LaTeX typesetting system produce PDF reports RStudio. Without additional installation, able produce reports HTML PDF. course require make PDFs. generate PDF reports, additionally need install tinytex (Xie, 2021) run following code:","code":"\ntinytex::install_tinytex()"},{"path":"updating-r-rstudio-and-packages.html","id":"updating-r-rstudio-and-packages","chapter":"B Updating R, RStudio, and packages","heading":"B Updating R, RStudio, and packages","text":"time--time, updated version R, RStudio, packages use (e.g., ggplot) become available. Remember separate, different process come different considerations. recommend updating latest version three start academic year.","code":""},{"path":"updating-r-rstudio-and-packages.html","id":"updating-rstudio","chapter":"B Updating R, RStudio, and packages","heading":"B.1 Updating RStudio","text":"RStudio easiest component update. Typically, updates RStudio affect code, instead add new features, like spell-check upgrades RStudio can . usually little downside updating RStudio easy .Click Help - Check updates\nFigure B.1: Updating RStudio\nupdate available, prompt download can install usual.","code":""},{"path":"updating-r-rstudio-and-packages.html","id":"updating-packages","chapter":"B Updating R, RStudio, and packages","heading":"B.2 Updating packages","text":"Package developers occasionally release updates packages. typically add new functions package, fix amend existing functions. aware package updates may cause previous code stop working. tend happen minor updates packages, occasionally major updates, can serious issues developer made fundamental changes code works. reason, recommend updating packages beginning academic year (semester) - assessment deadline just case!update individual package, easiest way use install.packages() function, always installs recent version package.update multiple packages, indeed packages, RStudio provides helpful tools. Click Tools - Check Package Updates. dialogue box appear can select packages wish update. aware select packages, may take time unable use R whilst process completes.\nFigure B.2: Updating packages RStudio\nOccasionally, might problem packages seemingly refuse update, , rlang vctrs cause end trouble. packages likely every explicitly load, required beneath surface R things like knit Markdown files etc.try update package get error message says something like Warning install.packages : installation package ‘vctrs’ non-zero exit status perhaps Error loadNamespace(, c(lib.loc, .libPaths()), versionCheck = vI[[]]) :  namespace 'rlang' 0.4.9 loaded, >= 0.4.10 required one solution found manually uninstall package, restart R, install package new, rather trying update existing version. installr package also useful function uninstalling packages.","code":"\ninstall.packages(\"tidyverse\")\n# Load installr\nlibrary(installr)\n\n# Uninstall the problem package\nuninstall.packages(\"package_name\")\n\n# Then restart R using session - restart R\n# Then install the package fresh\n\ninstall.packages(\"package\")"},{"path":"updating-r-rstudio-and-packages.html","id":"updating-r","chapter":"B Updating R, RStudio, and packages","heading":"B.3 Updating R","text":"Finally, may also wish update R . key thing aware update R, just download latest version website, lose packages. easiest way update R cause huge headache use installr package. use updateR() function, series dialogue boxes appear. fairly self-explanatory full step--step guide available use installr, important bit select \"Yes\" asked like copy packages older version R.always, issues, please ask Teams book GTA session.","code":"\n# Install the installr package\ninstall.packages(\"installr\")\n\n# Load installr\nlibrary(installr)\n\n# Run the update function\nupdateR()"},{"path":"exporting-files-from-the-server.html","id":"exporting-files-from-the-server","chapter":"C Exporting files from the server","heading":"C Exporting files from the server","text":"using R server, may need export files share people submit assignments.First, make sure saved changes made file. clicking \"File - Save\", Ctrl + S, clicking save icon. changes saved, save icon greyed . new unsaved changes, able click icon.Select file download files pane (bottom right) ticking box next , click \"- Export\" save file computer.R installed, try open computer. , open Word, Endnote similar, may corrupt code. open file R R Studio installed.want double check file definitely right one submit assignment, can re-upload server open make sure answers .","code":""},{"path":"symbols.html","id":"symbols","chapter":"D Symbols","heading":"D Symbols","text":"\nFigure D.1: Image James Chapman/Soundimals\n","code":""},{"path":"baser.html","id":"baser","chapter":"E Base R vs. Tidyverse","heading":"E Base R vs. Tidyverse","text":"","code":"\nlibrary(tidyverse)"},{"path":"baser.html","id":"extract-variables","chapter":"E Base R vs. Tidyverse","heading":"E.1 Extract variables","text":"","code":"\niris$Sepal.Length # single variable\niris[, c(\"Species\", \"Petal.Width\")] # by name\niris[, c(5, 4)]  # by column index\nselect(iris, Species)\nselect(iris, Species, Petal.Width) # by name\nselect(iris, 5, 4)  # by column index"},{"path":"baser.html","id":"make-new-variables","chapter":"E Base R vs. Tidyverse","heading":"E.2 Make new variables","text":"Extract observations (rows)","code":"\niris$Petal.Ratio <- iris$Petal.Length/iris$Petal.Width\n\niris$Sepal.Ratio <- iris$Sepal.Length/iris$Sepal.Width\nmutate(iris, \n       Petal.Ratio = Petal.Length/Petal.Width,\n       Sepal.Ratio = Sepal.Length/Sepal.Width)\n# Using [,]\niris[iris$Petal.Width > 0.5 & iris$Species == \"setosa\", ]\n\n# Using subset (works very much like dplyr::filter)\nsubset(iris, Petal.Width > 0.5 & Species == \"setosa\")\nfilter(iris, Petal.Width > 0.5 & Species == \"setosa\")"},{"path":"baser.html","id":"arrange-observations-rows","chapter":"E Base R vs. Tidyverse","heading":"E.3 Arrange observations (rows)","text":"","code":"\n# descending order of species (alphabetic) followed by ascending order of Petal.Width\niris[order(rev(iris$Species), iris$Petal.Width) , ]\n# descending order of species (alphabetic) followed by ascending order of Petal.Width\narrange(iris, desc(Species), Petal.Width) "},{"path":"baser.html","id":"summarise-observations-rows","chapter":"E Base R vs. Tidyverse","heading":"E.4 Summarise observations (rows)","text":"","code":"\n# Manually create a data.frame\ndata.frame(Petal.Length.mean = mean(iris$Petal.Length),\n           Petal.Length.sd = sd(iris$Petal.Length),\n           Sepal.Length.mean = mean(iris$Sepal.Length),\n           Sepal.Length.sd = sd(iris$Sepal.Length))\nsummarise(iris, \n          Petal.Length.mean = mean(Petal.Length),\n          Petal.Length.sd = sd(Petal.Length),\n          Sepal.Length.mean = mean(Sepal.Length),\n          Sepal.Length.sd = sd(Sepal.Length))"},{"path":"baser.html","id":"grouped-operations","chapter":"E Base R vs. Tidyverse","heading":"E.5 Grouped operations","text":"","code":"\n# First operate in the data.frame by group (split-apply)\nmtcars_by <- by(mtcars, \n   INDICES = list(mtcars$cyl, mtcars$gear),\n   FUN = function(x){\n     data.frame(cyl = unique(x$cyl),\n                gear = unique(x$gear),\n                mpg.mean = mean(x$mpg),\n                mpg.sd = sd(x$mpg),\n                wt.mean = mean(x$wt),\n                wt.sd = sd(x$wt))\n   })\n\n# Then combine the results into a data.frame\ndo.call(rbind, mtcars_by)\nmtcars %>% \n  group_by(cyl, gear) %>% \n  summarise(mpg.mean = mean(mpg),\n            mpg.sd = sd(mpg),\n            wt.mean = mean(wt),\n            wt.sd = sd(wt)) %>% \n  ungroup() # remove any groupings from downstream analysis"},{"path":"baser.html","id":"create-new-columns-as-calculations","chapter":"E Base R vs. Tidyverse","heading":"E.6 Create new columns as calculations","text":"","code":"\n# First operate in the data.frame by group (split-apply)\niris_by <- by(iris, \n              INDICES = iris$Species, \n              FUN = function(x){\n                x$Petal.Width.centered <- x$Petal.Width - mean(x$Petal.Width)\n                return(x)\n              })\n\n# Then combine the results into a data.frame\ndo.call(rbind, iris_by)\niris %>% \n  group_by(Species) %>% \n  mutate(Petal.Width.centered = Petal.Width - mean(Petal.Width)) %>% \n  ungroup() # remove any groupings from downstream analysis"},{"path":"baser.html","id":"filter-rows-with-conditions-evaluated-by-group","chapter":"E Base R vs. Tidyverse","heading":"E.7 Filter rows with conditions evaluated by group","text":"","code":"\n# First operate in the data.frame by group (split-apply)\nwidest_petals <- by(iris, \n                    INDICES = iris$Species, \n                    FUN = function(x){\n                      x[x$Petal.Width == max(x$Petal.Width), ] \n                    })\n\n# Then combine the results into a data.frame\ndo.call(rbind, widest_petals)\niris %>% \n  group_by(Species) %>% \n  filter(Petal.Width == max(Petal.Width))"},{"path":"baser.html","id":"pivot-data","chapter":"E Base R vs. Tidyverse","heading":"E.8 Pivot data","text":"","code":"\nreshape(iris, \n        varying = c(\"Sepal.Length\", \"Sepal.Width\", \"Petal.Length\", \"Petal.Width\"),\n        timevar = \"trait\",\n        idvar = \"id\",\n        v.names = \"measurement\",\n        direction = \"long\")\niris %>% \n pivot_longer(cols = Sepal.Length:Petal.Width, values_to = \"measurement\", names_to = \"trait\" )"},{"path":"license.html","id":"license","chapter":"License","heading":"License","text":"book licensed Creative Commons Attribution-ShareAlike 4.0 International License (CC--SA 4.0). free share adapt book. must give appropriate credit, provide link license, indicate changes made. adapt material, must distribute contributions license original.","code":""},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""}]
